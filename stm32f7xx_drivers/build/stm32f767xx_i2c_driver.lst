ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"stm32f767xx_i2c_driver.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.global	i2c_timings_4
  19              		.section	.data.i2c_timings_4,"aw"
  20              		.align	2
  23              	i2c_timings_4:
  24 0000 F3914000 		.word	4231667
  25 0004 100D4000 		.word	4197648
  26 0008 02001000 		.word	1048578
  27 000c 01000000 		.word	1
  28              		.global	i2c_timings_8
  29              		.section	.data.i2c_timings_8,"aw"
  30              		.align	2
  33              	i2c_timings_8:
  34 0000 C7C34210 		.word	272810951
  35 0004 130F4210 		.word	272764691
  36 0008 09033100 		.word	3212041
  37 000c 06031000 		.word	1049350
  38              		.global	i2c_timings_16
  39              		.section	.data.i2c_timings_16,"aw"
  40              		.align	2
  43              	i2c_timings_16:
  44 0000 C7C34230 		.word	809681863
  45 0004 5B3D3000 		.word	3161435
  46 0008 09033210 		.word	271713033
  47 000c 04022000 		.word	2097668
  48              		.global	i2c_timings_48
  49              		.section	.data.i2c_timings_48,"aw"
  50              		.align	2
  53              	i2c_timings_48:
  54 0000 C7C342B0 		.word	-1337801785
  55 0004 130F42B0 		.word	-1337848045
  56 0008 09033350 		.word	1345520393
  57 000c 03011050 		.word	1343226115
  58              		.global	i2c_timings_54
  59              		.section	.data.i2c_timings_54,"aw"
  60              		.align	2
  63              	i2c_timings_54:
  64 0000 FF7B41D0 		.word	-801014785
  65 0004 312AD340 		.word	1087580721
  66 0008 200DA610 		.word	279317792
  67 000c 16099000 		.word	9439510
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 2


  68              		.section	.text.I2C_GenerateStartCondition,"ax",%progbits
  69              		.align	1
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  74              	I2C_GenerateStartCondition:
  75              	.LFB0:
  76              		.file 1 "drivers/Src/stm32f767xx_i2c_driver.c"
   1:drivers/Src/stm32f767xx_i2c_driver.c **** /**
   2:drivers/Src/stm32f767xx_i2c_driver.c ****  * @file stm32f767xx_i2c_driver.c
   3:drivers/Src/stm32f767xx_i2c_driver.c ****  * @author johannes regnier
   4:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief 
   5:drivers/Src/stm32f767xx_i2c_driver.c ****  * @version 0.1
   6:drivers/Src/stm32f767xx_i2c_driver.c ****  * @date 2022-09-22
   7:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
   8:drivers/Src/stm32f767xx_i2c_driver.c ****  * @copyright Copyright (c) 2022
   9:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
  10:drivers/Src/stm32f767xx_i2c_driver.c ****  */
  11:drivers/Src/stm32f767xx_i2c_driver.c **** 
  12:drivers/Src/stm32f767xx_i2c_driver.c **** 
  13:drivers/Src/stm32f767xx_i2c_driver.c **** #include "stm32f767xx_i2c_driver.h"
  14:drivers/Src/stm32f767xx_i2c_driver.c **** 
  15:drivers/Src/stm32f767xx_i2c_driver.c **** 
  16:drivers/Src/stm32f767xx_i2c_driver.c **** 
  17:drivers/Src/stm32f767xx_i2c_driver.c **** /*********************************************************************************************
  18:drivers/Src/stm32f767xx_i2c_driver.c ****  *   Hard-coded I2C_TIMINGR timing settings depending on the I2C clock
  19:drivers/Src/stm32f767xx_i2c_driver.c ****  *      See tables in ref manual, section 33.4.9
  20:drivers/Src/stm32f767xx_i2c_driver.c ****  *     | SM_10kHz | SM_100kHz | FM_400kHz | FM+_1000kHz |
  21:drivers/Src/stm32f767xx_i2c_driver.c ****  *  source: https://github.com/MayaPosch/Nodate/blob/master/arch/stm32/cpp/core/src/i2c.cpp
  22:drivers/Src/stm32f767xx_i2c_driver.c ****  * Note: STM32CubeMX calculates and provides the I2C_TIMINGR content in the I2C Config. window.
  23:drivers/Src/stm32f767xx_i2c_driver.c ****  * *******************************************************************************************/
  24:drivers/Src/stm32f767xx_i2c_driver.c **** uint32_t i2c_timings_4[4]  = {0x004091F3, 0x00400D10, 0x00100002, 0x00000001};
  25:drivers/Src/stm32f767xx_i2c_driver.c **** uint32_t i2c_timings_8[4]  = {0x1042C3C7, 0x10420F13, 0x00310309, 0x00100306};
  26:drivers/Src/stm32f767xx_i2c_driver.c **** // uint32_t i2c_timings_16[4] = {0x3042C3C7, 0x30420F13, 0x10320309, 0x00200204};
  27:drivers/Src/stm32f767xx_i2c_driver.c **** uint32_t i2c_timings_16[4] = {0x3042C3C7, 0x303D5B, 0x10320309, 0x00200204}; // SM_100k timing valu
  28:drivers/Src/stm32f767xx_i2c_driver.c **** uint32_t i2c_timings_48[4] = {0xB042C3C7, 0xB0420F13, 0x50330309, 0x50100103};
  29:drivers/Src/stm32f767xx_i2c_driver.c **** uint32_t i2c_timings_54[4] = {0xD0417BFF, 0x40D32A31, 0x10A60D20, 0x00900916};
  30:drivers/Src/stm32f767xx_i2c_driver.c **** 
  31:drivers/Src/stm32f767xx_i2c_driver.c **** 
  32:drivers/Src/stm32f767xx_i2c_driver.c **** 
  33:drivers/Src/stm32f767xx_i2c_driver.c **** 
  34:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_GenerateStartCondition(I2C_RegDef_t *pI2Cx);
  35:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_ExecuteAddressPhaseWrite(I2C_RegDef_t *pI2Cx, uint8_t SlaveAddr);
  36:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_ExecuteAddressPhaseRead(I2C_RegDef_t *pI2Cx, uint8_t SlaveAddr);
  37:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_GenerateStopCondition(I2C_RegDef_t *pI2Cx);
  38:drivers/Src/stm32f767xx_i2c_driver.c **** 
  39:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_GenerateStartCondition(I2C_RegDef_t *pI2Cx)
  40:drivers/Src/stm32f767xx_i2c_driver.c **** {
  77              		.loc 1 40 1
  78              		.cfi_startproc
  79              		@ args = 0, pretend = 0, frame = 8
  80              		@ frame_needed = 1, uses_anonymous_args = 0
  81              		@ link register save eliminated.
  82 0000 80B4     		push	{r7}
  83              		.cfi_def_cfa_offset 4
  84              		.cfi_offset 7, -4
  85 0002 83B0     		sub	sp, sp, #12
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 3


  86              		.cfi_def_cfa_offset 16
  87 0004 00AF     		add	r7, sp, #0
  88              		.cfi_def_cfa_register 7
  89 0006 7860     		str	r0, [r7, #4]
  41:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2Cx->CR2 |= (1 << I2C_CR2_START);
  90              		.loc 1 41 16
  91 0008 7B68     		ldr	r3, [r7, #4]
  92 000a 5B68     		ldr	r3, [r3, #4]
  93 000c 43F40052 		orr	r2, r3, #8192
  94 0010 7B68     		ldr	r3, [r7, #4]
  95 0012 5A60     		str	r2, [r3, #4]
  42:drivers/Src/stm32f767xx_i2c_driver.c **** }
  96              		.loc 1 42 1
  97 0014 00BF     		nop
  98 0016 0C37     		adds	r7, r7, #12
  99              		.cfi_def_cfa_offset 4
 100 0018 BD46     		mov	sp, r7
 101              		.cfi_def_cfa_register 13
 102              		@ sp needed
 103 001a 5DF8047B 		ldr	r7, [sp], #4
 104              		.cfi_restore 7
 105              		.cfi_def_cfa_offset 0
 106 001e 7047     		bx	lr
 107              		.cfi_endproc
 108              	.LFE0:
 110              		.section	.text.I2C_ExecuteAddressPhaseWrite,"ax",%progbits
 111              		.align	1
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 116              	I2C_ExecuteAddressPhaseWrite:
 117              	.LFB1:
  43:drivers/Src/stm32f767xx_i2c_driver.c **** 
  44:drivers/Src/stm32f767xx_i2c_driver.c **** 
  45:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_ExecuteAddressPhaseWrite(I2C_RegDef_t *pI2Cx, uint8_t SlaveAddr)
  46:drivers/Src/stm32f767xx_i2c_driver.c **** {
 118              		.loc 1 46 1
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 8
 121              		@ frame_needed = 1, uses_anonymous_args = 0
 122              		@ link register save eliminated.
 123 0000 80B4     		push	{r7}
 124              		.cfi_def_cfa_offset 4
 125              		.cfi_offset 7, -4
 126 0002 83B0     		sub	sp, sp, #12
 127              		.cfi_def_cfa_offset 16
 128 0004 00AF     		add	r7, sp, #0
 129              		.cfi_def_cfa_register 7
 130 0006 7860     		str	r0, [r7, #4]
 131 0008 0B46     		mov	r3, r1
 132 000a FB70     		strb	r3, [r7, #3]
  47:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2Cx->CR2 |= (SlaveAddr << 1);         // Slave address bit 7:1 (master mode)
 133              		.loc 1 47 16
 134 000c 7B68     		ldr	r3, [r7, #4]
 135 000e 5B68     		ldr	r3, [r3, #4]
 136              		.loc 1 47 30
 137 0010 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 4


 138 0012 5200     		lsls	r2, r2, #1
 139              		.loc 1 47 16
 140 0014 1A43     		orrs	r2, r2, r3
 141 0016 7B68     		ldr	r3, [r7, #4]
 142 0018 5A60     		str	r2, [r3, #4]
  48:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2Cx->CR2 &= ~(1 << I2C_CR2_RD_WRN);   // RD_WRN: write transfer direction (master mode)
 143              		.loc 1 48 16
 144 001a 7B68     		ldr	r3, [r7, #4]
 145 001c 5B68     		ldr	r3, [r3, #4]
 146 001e 23F48062 		bic	r2, r3, #1024
 147 0022 7B68     		ldr	r3, [r7, #4]
 148 0024 5A60     		str	r2, [r3, #4]
  49:drivers/Src/stm32f767xx_i2c_driver.c **** }
 149              		.loc 1 49 1
 150 0026 00BF     		nop
 151 0028 0C37     		adds	r7, r7, #12
 152              		.cfi_def_cfa_offset 4
 153 002a BD46     		mov	sp, r7
 154              		.cfi_def_cfa_register 13
 155              		@ sp needed
 156 002c 5DF8047B 		ldr	r7, [sp], #4
 157              		.cfi_restore 7
 158              		.cfi_def_cfa_offset 0
 159 0030 7047     		bx	lr
 160              		.cfi_endproc
 161              	.LFE1:
 163              		.section	.text.I2C_ExecuteAddressPhaseRead,"ax",%progbits
 164              		.align	1
 165              		.syntax unified
 166              		.thumb
 167              		.thumb_func
 169              	I2C_ExecuteAddressPhaseRead:
 170              	.LFB2:
  50:drivers/Src/stm32f767xx_i2c_driver.c **** 
  51:drivers/Src/stm32f767xx_i2c_driver.c **** 
  52:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_ExecuteAddressPhaseRead(I2C_RegDef_t *pI2Cx, uint8_t SlaveAddr)
  53:drivers/Src/stm32f767xx_i2c_driver.c **** {
 171              		.loc 1 53 1
 172              		.cfi_startproc
 173              		@ args = 0, pretend = 0, frame = 8
 174              		@ frame_needed = 1, uses_anonymous_args = 0
 175              		@ link register save eliminated.
 176 0000 80B4     		push	{r7}
 177              		.cfi_def_cfa_offset 4
 178              		.cfi_offset 7, -4
 179 0002 83B0     		sub	sp, sp, #12
 180              		.cfi_def_cfa_offset 16
 181 0004 00AF     		add	r7, sp, #0
 182              		.cfi_def_cfa_register 7
 183 0006 7860     		str	r0, [r7, #4]
 184 0008 0B46     		mov	r3, r1
 185 000a FB70     		strb	r3, [r7, #3]
  54:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2Cx->CR2 |= (SlaveAddr << 1);         // Slave address bit 7:1 (master mode)
 186              		.loc 1 54 16
 187 000c 7B68     		ldr	r3, [r7, #4]
 188 000e 5B68     		ldr	r3, [r3, #4]
 189              		.loc 1 54 30
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 5


 190 0010 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 191 0012 5200     		lsls	r2, r2, #1
 192              		.loc 1 54 16
 193 0014 1A43     		orrs	r2, r2, r3
 194 0016 7B68     		ldr	r3, [r7, #4]
 195 0018 5A60     		str	r2, [r3, #4]
  55:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2Cx->CR2 |= (1 << I2C_CR2_RD_WRN);    // RD_WRN: read transfer direction (master mode)
 196              		.loc 1 55 16
 197 001a 7B68     		ldr	r3, [r7, #4]
 198 001c 5B68     		ldr	r3, [r3, #4]
 199 001e 43F48062 		orr	r2, r3, #1024
 200 0022 7B68     		ldr	r3, [r7, #4]
 201 0024 5A60     		str	r2, [r3, #4]
  56:drivers/Src/stm32f767xx_i2c_driver.c **** }
 202              		.loc 1 56 1
 203 0026 00BF     		nop
 204 0028 0C37     		adds	r7, r7, #12
 205              		.cfi_def_cfa_offset 4
 206 002a BD46     		mov	sp, r7
 207              		.cfi_def_cfa_register 13
 208              		@ sp needed
 209 002c 5DF8047B 		ldr	r7, [sp], #4
 210              		.cfi_restore 7
 211              		.cfi_def_cfa_offset 0
 212 0030 7047     		bx	lr
 213              		.cfi_endproc
 214              	.LFE2:
 216              		.section	.text.I2C_GenerateStopCondition,"ax",%progbits
 217              		.align	1
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 222              	I2C_GenerateStopCondition:
 223              	.LFB3:
  57:drivers/Src/stm32f767xx_i2c_driver.c **** 
  58:drivers/Src/stm32f767xx_i2c_driver.c **** 
  59:drivers/Src/stm32f767xx_i2c_driver.c **** static void I2C_GenerateStopCondition(I2C_RegDef_t *pI2Cx)
  60:drivers/Src/stm32f767xx_i2c_driver.c **** {
 224              		.loc 1 60 1
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 8
 227              		@ frame_needed = 1, uses_anonymous_args = 0
 228              		@ link register save eliminated.
 229 0000 80B4     		push	{r7}
 230              		.cfi_def_cfa_offset 4
 231              		.cfi_offset 7, -4
 232 0002 83B0     		sub	sp, sp, #12
 233              		.cfi_def_cfa_offset 16
 234 0004 00AF     		add	r7, sp, #0
 235              		.cfi_def_cfa_register 7
 236 0006 7860     		str	r0, [r7, #4]
  61:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2Cx->CR2 |= (1 << I2C_CR2_STOP);
 237              		.loc 1 61 16
 238 0008 7B68     		ldr	r3, [r7, #4]
 239 000a 5B68     		ldr	r3, [r3, #4]
 240 000c 43F48042 		orr	r2, r3, #16384
 241 0010 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 6


 242 0012 5A60     		str	r2, [r3, #4]
  62:drivers/Src/stm32f767xx_i2c_driver.c **** }
 243              		.loc 1 62 1
 244 0014 00BF     		nop
 245 0016 0C37     		adds	r7, r7, #12
 246              		.cfi_def_cfa_offset 4
 247 0018 BD46     		mov	sp, r7
 248              		.cfi_def_cfa_register 13
 249              		@ sp needed
 250 001a 5DF8047B 		ldr	r7, [sp], #4
 251              		.cfi_restore 7
 252              		.cfi_def_cfa_offset 0
 253 001e 7047     		bx	lr
 254              		.cfi_endproc
 255              	.LFE3:
 257              		.section	.text.I2C_SlaveEnableDisableCallbackEvents,"ax",%progbits
 258              		.align	1
 259              		.global	I2C_SlaveEnableDisableCallbackEvents
 260              		.syntax unified
 261              		.thumb
 262              		.thumb_func
 264              	I2C_SlaveEnableDisableCallbackEvents:
 265              	.LFB4:
  63:drivers/Src/stm32f767xx_i2c_driver.c **** 
  64:drivers/Src/stm32f767xx_i2c_driver.c **** 
  65:drivers/Src/stm32f767xx_i2c_driver.c **** /**
  66:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief 
  67:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
  68:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2Cx 
  69:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param EnorDi 
  70:drivers/Src/stm32f767xx_i2c_driver.c ****  */
  71:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_SlaveEnableDisableCallbackEvents(I2C_RegDef_t *pI2Cx, uint8_t EnorDi)
  72:drivers/Src/stm32f767xx_i2c_driver.c **** {
 266              		.loc 1 72 1
 267              		.cfi_startproc
 268              		@ args = 0, pretend = 0, frame = 8
 269              		@ frame_needed = 1, uses_anonymous_args = 0
 270              		@ link register save eliminated.
 271 0000 80B4     		push	{r7}
 272              		.cfi_def_cfa_offset 4
 273              		.cfi_offset 7, -4
 274 0002 83B0     		sub	sp, sp, #12
 275              		.cfi_def_cfa_offset 16
 276 0004 00AF     		add	r7, sp, #0
 277              		.cfi_def_cfa_register 7
 278 0006 7860     		str	r0, [r7, #4]
 279 0008 0B46     		mov	r3, r1
 280 000a FB70     		strb	r3, [r7, #3]
  73:drivers/Src/stm32f767xx_i2c_driver.c ****     if (EnorDi == ENABLE)
 281              		.loc 1 73 8
 282 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 283 000e 012B     		cmp	r3, #1
 284 0010 1ED1     		bne	.L6
  74:drivers/Src/stm32f767xx_i2c_driver.c ****     {
  75:drivers/Src/stm32f767xx_i2c_driver.c ****         
  76:drivers/Src/stm32f767xx_i2c_driver.c ****         //enable TXIE, RXIE, STOPIE, ADDRIE, NACKIE Control Bits
  77:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2Cx->CR1 |= ( 1 << I2C_CR1_TXIE);
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 7


 285              		.loc 1 77 14
 286 0012 7B68     		ldr	r3, [r7, #4]
 287 0014 1B68     		ldr	r3, [r3]
 288 0016 43F00202 		orr	r2, r3, #2
 289 001a 7B68     		ldr	r3, [r7, #4]
 290 001c 1A60     		str	r2, [r3]
  78:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 |= ( 1 << I2C_CR1_RXIE);
 291              		.loc 1 78 20
 292 001e 7B68     		ldr	r3, [r7, #4]
 293 0020 1B68     		ldr	r3, [r3]
 294 0022 43F00402 		orr	r2, r3, #4
 295 0026 7B68     		ldr	r3, [r7, #4]
 296 0028 1A60     		str	r2, [r3]
  79:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 |= ( 1 << I2C_CR1_STOPIE);
 297              		.loc 1 79 20
 298 002a 7B68     		ldr	r3, [r7, #4]
 299 002c 1B68     		ldr	r3, [r3]
 300 002e 43F02002 		orr	r2, r3, #32
 301 0032 7B68     		ldr	r3, [r7, #4]
 302 0034 1A60     		str	r2, [r3]
  80:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 |= ( 1 << I2C_CR1_ADDRIE);
 303              		.loc 1 80 20
 304 0036 7B68     		ldr	r3, [r7, #4]
 305 0038 1B68     		ldr	r3, [r3]
 306 003a 43F00802 		orr	r2, r3, #8
 307 003e 7B68     		ldr	r3, [r7, #4]
 308 0040 1A60     		str	r2, [r3]
  81:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 |= ( 1 << I2C_CR1_NACKIE);
 309              		.loc 1 81 20
 310 0042 7B68     		ldr	r3, [r7, #4]
 311 0044 1B68     		ldr	r3, [r3]
 312 0046 43F01002 		orr	r2, r3, #16
 313 004a 7B68     		ldr	r3, [r7, #4]
 314 004c 1A60     		str	r2, [r3]
  82:drivers/Src/stm32f767xx_i2c_driver.c **** 
  83:drivers/Src/stm32f767xx_i2c_driver.c ****         //enable ERRIE Control Bit
  84:drivers/Src/stm32f767xx_i2c_driver.c **** 		//pI2Cx->CR1 |= ( 1 << I2C_CR1_ERRIE);
  85:drivers/Src/stm32f767xx_i2c_driver.c **** 
  86:drivers/Src/stm32f767xx_i2c_driver.c ****     }
  87:drivers/Src/stm32f767xx_i2c_driver.c ****     else
  88:drivers/Src/stm32f767xx_i2c_driver.c ****     {
  89:drivers/Src/stm32f767xx_i2c_driver.c ****         //disable TXIE, RXIE, STOPIE, ADDRIE, NACKIE Control Bits
  90:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2Cx->CR1 &= ~( 1 << I2C_CR1_TXIE);
  91:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_RXIE);
  92:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_STOPIE);
  93:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_ADDRIE);
  94:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_NACKIE);
  95:drivers/Src/stm32f767xx_i2c_driver.c **** 
  96:drivers/Src/stm32f767xx_i2c_driver.c ****         //disable ERRIE Control Bit
  97:drivers/Src/stm32f767xx_i2c_driver.c **** 		//pI2Cx->CR1 &= ~( 1 << I2C_CR1_ERRIE);
  98:drivers/Src/stm32f767xx_i2c_driver.c **** 
  99:drivers/Src/stm32f767xx_i2c_driver.c ****        
 100:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 101:drivers/Src/stm32f767xx_i2c_driver.c **** }
 315              		.loc 1 101 1
 316 004e 1DE0     		b	.L8
 317              	.L6:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 8


  90:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_RXIE);
 318              		.loc 1 90 14
 319 0050 7B68     		ldr	r3, [r7, #4]
 320 0052 1B68     		ldr	r3, [r3]
 321 0054 23F00202 		bic	r2, r3, #2
 322 0058 7B68     		ldr	r3, [r7, #4]
 323 005a 1A60     		str	r2, [r3]
  91:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_STOPIE);
 324              		.loc 1 91 20
 325 005c 7B68     		ldr	r3, [r7, #4]
 326 005e 1B68     		ldr	r3, [r3]
 327 0060 23F00402 		bic	r2, r3, #4
 328 0064 7B68     		ldr	r3, [r7, #4]
 329 0066 1A60     		str	r2, [r3]
  92:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_ADDRIE);
 330              		.loc 1 92 20
 331 0068 7B68     		ldr	r3, [r7, #4]
 332 006a 1B68     		ldr	r3, [r3]
 333 006c 23F02002 		bic	r2, r3, #32
 334 0070 7B68     		ldr	r3, [r7, #4]
 335 0072 1A60     		str	r2, [r3]
  93:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2Cx->CR1 &= ~( 1 << I2C_CR1_NACKIE);
 336              		.loc 1 93 20
 337 0074 7B68     		ldr	r3, [r7, #4]
 338 0076 1B68     		ldr	r3, [r3]
 339 0078 23F00802 		bic	r2, r3, #8
 340 007c 7B68     		ldr	r3, [r7, #4]
 341 007e 1A60     		str	r2, [r3]
  94:drivers/Src/stm32f767xx_i2c_driver.c **** 
 342              		.loc 1 94 20
 343 0080 7B68     		ldr	r3, [r7, #4]
 344 0082 1B68     		ldr	r3, [r3]
 345 0084 23F01002 		bic	r2, r3, #16
 346 0088 7B68     		ldr	r3, [r7, #4]
 347 008a 1A60     		str	r2, [r3]
 348              	.L8:
 349              		.loc 1 101 1
 350 008c 00BF     		nop
 351 008e 0C37     		adds	r7, r7, #12
 352              		.cfi_def_cfa_offset 4
 353 0090 BD46     		mov	sp, r7
 354              		.cfi_def_cfa_register 13
 355              		@ sp needed
 356 0092 5DF8047B 		ldr	r7, [sp], #4
 357              		.cfi_restore 7
 358              		.cfi_def_cfa_offset 0
 359 0096 7047     		bx	lr
 360              		.cfi_endproc
 361              	.LFE4:
 363              		.section	.text.I2C_PeripheralControl,"ax",%progbits
 364              		.align	1
 365              		.global	I2C_PeripheralControl
 366              		.syntax unified
 367              		.thumb
 368              		.thumb_func
 370              	I2C_PeripheralControl:
 371              	.LFB5:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 9


 102:drivers/Src/stm32f767xx_i2c_driver.c **** 
 103:drivers/Src/stm32f767xx_i2c_driver.c **** 
 104:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 105:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief 
 106:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 107:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2Cx 
 108:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param EnOrDi 
 109:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 110:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_PeripheralControl(I2C_RegDef_t *pI2Cx, uint8_t EnOrDi)
 111:drivers/Src/stm32f767xx_i2c_driver.c **** {
 372              		.loc 1 111 1
 373              		.cfi_startproc
 374              		@ args = 0, pretend = 0, frame = 8
 375              		@ frame_needed = 1, uses_anonymous_args = 0
 376              		@ link register save eliminated.
 377 0000 80B4     		push	{r7}
 378              		.cfi_def_cfa_offset 4
 379              		.cfi_offset 7, -4
 380 0002 83B0     		sub	sp, sp, #12
 381              		.cfi_def_cfa_offset 16
 382 0004 00AF     		add	r7, sp, #0
 383              		.cfi_def_cfa_register 7
 384 0006 7860     		str	r0, [r7, #4]
 385 0008 0B46     		mov	r3, r1
 386 000a FB70     		strb	r3, [r7, #3]
 112:drivers/Src/stm32f767xx_i2c_driver.c **** 	if(EnOrDi == ENABLE)
 387              		.loc 1 112 4
 388 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 389 000e 012B     		cmp	r3, #1
 390 0010 06D1     		bne	.L10
 113:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 114:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2Cx->CR1 |= (1 << I2C_CR1_PE);
 391              		.loc 1 114 14
 392 0012 7B68     		ldr	r3, [r7, #4]
 393 0014 1B68     		ldr	r3, [r3]
 394 0016 43F00102 		orr	r2, r3, #1
 395 001a 7B68     		ldr	r3, [r7, #4]
 396 001c 1A60     		str	r2, [r3]
 115:drivers/Src/stm32f767xx_i2c_driver.c **** 	}else
 116:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 117:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2Cx->CR1 &= ~(1 << I2C_CR1_PE);
 118:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 119:drivers/Src/stm32f767xx_i2c_driver.c **** 
 120:drivers/Src/stm32f767xx_i2c_driver.c **** }
 397              		.loc 1 120 1
 398 001e 05E0     		b	.L12
 399              	.L10:
 117:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 400              		.loc 1 117 14
 401 0020 7B68     		ldr	r3, [r7, #4]
 402 0022 1B68     		ldr	r3, [r3]
 403 0024 23F00102 		bic	r2, r3, #1
 404 0028 7B68     		ldr	r3, [r7, #4]
 405 002a 1A60     		str	r2, [r3]
 406              	.L12:
 407              		.loc 1 120 1
 408 002c 00BF     		nop
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 10


 409 002e 0C37     		adds	r7, r7, #12
 410              		.cfi_def_cfa_offset 4
 411 0030 BD46     		mov	sp, r7
 412              		.cfi_def_cfa_register 13
 413              		@ sp needed
 414 0032 5DF8047B 		ldr	r7, [sp], #4
 415              		.cfi_restore 7
 416              		.cfi_def_cfa_offset 0
 417 0036 7047     		bx	lr
 418              		.cfi_endproc
 419              	.LFE5:
 421              		.section	.text.I2C_PeriClockControl,"ax",%progbits
 422              		.align	1
 423              		.global	I2C_PeriClockControl
 424              		.syntax unified
 425              		.thumb
 426              		.thumb_func
 428              	I2C_PeriClockControl:
 429              	.LFB6:
 121:drivers/Src/stm32f767xx_i2c_driver.c **** 
 122:drivers/Src/stm32f767xx_i2c_driver.c **** 
 123:drivers/Src/stm32f767xx_i2c_driver.c **** 
 124:drivers/Src/stm32f767xx_i2c_driver.c **** 
 125:drivers/Src/stm32f767xx_i2c_driver.c **** 
 126:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 127:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C Peripheral Clock Control
 128:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 129:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2Cx 
 130:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param EnorDi
 131:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 132:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_PeriClockControl(I2C_RegDef_t *pI2Cx, uint8_t EnorDi)
 133:drivers/Src/stm32f767xx_i2c_driver.c **** {
 430              		.loc 1 133 1
 431              		.cfi_startproc
 432              		@ args = 0, pretend = 0, frame = 8
 433              		@ frame_needed = 1, uses_anonymous_args = 0
 434              		@ link register save eliminated.
 435 0000 80B4     		push	{r7}
 436              		.cfi_def_cfa_offset 4
 437              		.cfi_offset 7, -4
 438 0002 83B0     		sub	sp, sp, #12
 439              		.cfi_def_cfa_offset 16
 440 0004 00AF     		add	r7, sp, #0
 441              		.cfi_def_cfa_register 7
 442 0006 7860     		str	r0, [r7, #4]
 443 0008 0B46     		mov	r3, r1
 444 000a FB70     		strb	r3, [r7, #3]
 134:drivers/Src/stm32f767xx_i2c_driver.c **** 	if(EnorDi == ENABLE)
 445              		.loc 1 134 4
 446 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 447 000e 012B     		cmp	r3, #1
 448 0010 2BD1     		bne	.L14
 135:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 136:drivers/Src/stm32f767xx_i2c_driver.c **** 		if(pI2Cx == I2C1)
 449              		.loc 1 136 5
 450 0012 7B68     		ldr	r3, [r7, #4]
 451 0014 2D4A     		ldr	r2, .L23
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 11


 452 0016 9342     		cmp	r3, r2
 453 0018 06D1     		bne	.L15
 137:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 138:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C1_PCLK_EN();
 454              		.loc 1 138 4
 455 001a 2D4B     		ldr	r3, .L23+4
 456 001c 1B6C     		ldr	r3, [r3, #64]
 457 001e 2C4A     		ldr	r2, .L23+4
 458 0020 43F40013 		orr	r3, r3, #2097152
 459 0024 1364     		str	r3, [r2, #64]
 139:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C2)
 140:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 141:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C2_PCLK_EN();
 142:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C3)
 143:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 144:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C3_PCLK_EN();
 145:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C4)
 146:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 147:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C4_PCLK_EN();
 148:drivers/Src/stm32f767xx_i2c_driver.c **** 		}
 149:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 150:drivers/Src/stm32f767xx_i2c_driver.c **** 	else
 151:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 152:drivers/Src/stm32f767xx_i2c_driver.c **** 		if(pI2Cx == I2C1)
 153:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 154:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C1_PCLK_DI();
 155:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C2)
 156:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 157:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C2_PCLK_DI();
 158:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C3)
 159:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 160:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C3_PCLK_DI();
 161:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C4)
 162:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 163:drivers/Src/stm32f767xx_i2c_driver.c **** 			I2C4_PCLK_DI();
 164:drivers/Src/stm32f767xx_i2c_driver.c **** 		}
 165:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 166:drivers/Src/stm32f767xx_i2c_driver.c **** 
 167:drivers/Src/stm32f767xx_i2c_driver.c **** }
 460              		.loc 1 167 1
 461 0026 4BE0     		b	.L22
 462              	.L15:
 139:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C2)
 463              		.loc 1 139 12
 464 0028 7B68     		ldr	r3, [r7, #4]
 465 002a 2A4A     		ldr	r2, .L23+8
 466 002c 9342     		cmp	r3, r2
 467 002e 06D1     		bne	.L17
 141:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C3)
 468              		.loc 1 141 4
 469 0030 274B     		ldr	r3, .L23+4
 470 0032 1B6C     		ldr	r3, [r3, #64]
 471 0034 264A     		ldr	r2, .L23+4
 472 0036 43F48003 		orr	r3, r3, #4194304
 473 003a 1364     		str	r3, [r2, #64]
 474              		.loc 1 167 1
 475 003c 40E0     		b	.L22
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 12


 476              	.L17:
 142:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 477              		.loc 1 142 12
 478 003e 7B68     		ldr	r3, [r7, #4]
 479 0040 254A     		ldr	r2, .L23+12
 480 0042 9342     		cmp	r3, r2
 481 0044 06D1     		bne	.L18
 144:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C4)
 482              		.loc 1 144 4
 483 0046 224B     		ldr	r3, .L23+4
 484 0048 1B6C     		ldr	r3, [r3, #64]
 485 004a 214A     		ldr	r2, .L23+4
 486 004c 43F40003 		orr	r3, r3, #8388608
 487 0050 1364     		str	r3, [r2, #64]
 488              		.loc 1 167 1
 489 0052 35E0     		b	.L22
 490              	.L18:
 145:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 491              		.loc 1 145 12
 492 0054 7B68     		ldr	r3, [r7, #4]
 493 0056 214A     		ldr	r2, .L23+16
 494 0058 9342     		cmp	r3, r2
 495 005a 31D1     		bne	.L22
 147:drivers/Src/stm32f767xx_i2c_driver.c **** 		}
 496              		.loc 1 147 4
 497 005c 1C4B     		ldr	r3, .L23+4
 498 005e 1B6C     		ldr	r3, [r3, #64]
 499 0060 1B4A     		ldr	r2, .L23+4
 500 0062 43F08073 		orr	r3, r3, #16777216
 501 0066 1364     		str	r3, [r2, #64]
 502              		.loc 1 167 1
 503 0068 2AE0     		b	.L22
 504              	.L14:
 152:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 505              		.loc 1 152 5
 506 006a 7B68     		ldr	r3, [r7, #4]
 507 006c 174A     		ldr	r2, .L23
 508 006e 9342     		cmp	r3, r2
 509 0070 06D1     		bne	.L19
 154:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C2)
 510              		.loc 1 154 4
 511 0072 174B     		ldr	r3, .L23+4
 512 0074 1B6C     		ldr	r3, [r3, #64]
 513 0076 164A     		ldr	r2, .L23+4
 514 0078 23F40013 		bic	r3, r3, #2097152
 515 007c 1364     		str	r3, [r2, #64]
 516              		.loc 1 167 1
 517 007e 1FE0     		b	.L22
 518              	.L19:
 155:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 519              		.loc 1 155 12
 520 0080 7B68     		ldr	r3, [r7, #4]
 521 0082 144A     		ldr	r2, .L23+8
 522 0084 9342     		cmp	r3, r2
 523 0086 06D1     		bne	.L20
 157:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C3)
 524              		.loc 1 157 4
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 13


 525 0088 114B     		ldr	r3, .L23+4
 526 008a 1B6C     		ldr	r3, [r3, #64]
 527 008c 104A     		ldr	r2, .L23+4
 528 008e 23F48003 		bic	r3, r3, #4194304
 529 0092 1364     		str	r3, [r2, #64]
 530              		.loc 1 167 1
 531 0094 14E0     		b	.L22
 532              	.L20:
 158:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 533              		.loc 1 158 12
 534 0096 7B68     		ldr	r3, [r7, #4]
 535 0098 0F4A     		ldr	r2, .L23+12
 536 009a 9342     		cmp	r3, r2
 537 009c 06D1     		bne	.L21
 160:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (pI2Cx == I2C4)
 538              		.loc 1 160 4
 539 009e 0C4B     		ldr	r3, .L23+4
 540 00a0 1B6C     		ldr	r3, [r3, #64]
 541 00a2 0B4A     		ldr	r2, .L23+4
 542 00a4 23F40003 		bic	r3, r3, #8388608
 543 00a8 1364     		str	r3, [r2, #64]
 544              		.loc 1 167 1
 545 00aa 09E0     		b	.L22
 546              	.L21:
 161:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 547              		.loc 1 161 12
 548 00ac 7B68     		ldr	r3, [r7, #4]
 549 00ae 0B4A     		ldr	r2, .L23+16
 550 00b0 9342     		cmp	r3, r2
 551 00b2 05D1     		bne	.L22
 163:drivers/Src/stm32f767xx_i2c_driver.c **** 		}
 552              		.loc 1 163 4
 553 00b4 064B     		ldr	r3, .L23+4
 554 00b6 1B6C     		ldr	r3, [r3, #64]
 555 00b8 054A     		ldr	r2, .L23+4
 556 00ba 23F08073 		bic	r3, r3, #16777216
 557 00be 1364     		str	r3, [r2, #64]
 558              	.L22:
 559              		.loc 1 167 1
 560 00c0 00BF     		nop
 561 00c2 0C37     		adds	r7, r7, #12
 562              		.cfi_def_cfa_offset 4
 563 00c4 BD46     		mov	sp, r7
 564              		.cfi_def_cfa_register 13
 565              		@ sp needed
 566 00c6 5DF8047B 		ldr	r7, [sp], #4
 567              		.cfi_restore 7
 568              		.cfi_def_cfa_offset 0
 569 00ca 7047     		bx	lr
 570              	.L24:
 571              		.align	2
 572              	.L23:
 573 00cc 00540040 		.word	1073763328
 574 00d0 00380240 		.word	1073887232
 575 00d4 00580040 		.word	1073764352
 576 00d8 005C0040 		.word	1073765376
 577 00dc 00600040 		.word	1073766400
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 14


 578              		.cfi_endproc
 579              	.LFE6:
 581              		.section	.text.I2C_Init,"ax",%progbits
 582              		.align	1
 583              		.global	I2C_Init
 584              		.syntax unified
 585              		.thumb
 586              		.thumb_func
 588              	I2C_Init:
 589              	.LFB7:
 168:drivers/Src/stm32f767xx_i2c_driver.c **** 
 169:drivers/Src/stm32f767xx_i2c_driver.c **** 
 170:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 171:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief 
 172:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 173:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2CHandle 
 174:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 175:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_Init(I2C_Handle_t *pI2CHandle)
 176:drivers/Src/stm32f767xx_i2c_driver.c **** {
 590              		.loc 1 176 1
 591              		.cfi_startproc
 592              		@ args = 0, pretend = 0, frame = 16
 593              		@ frame_needed = 1, uses_anonymous_args = 0
 594 0000 80B5     		push	{r7, lr}
 595              		.cfi_def_cfa_offset 8
 596              		.cfi_offset 7, -8
 597              		.cfi_offset 14, -4
 598 0002 84B0     		sub	sp, sp, #16
 599              		.cfi_def_cfa_offset 24
 600 0004 00AF     		add	r7, sp, #0
 601              		.cfi_def_cfa_register 7
 602 0006 7860     		str	r0, [r7, #4]
 177:drivers/Src/stm32f767xx_i2c_driver.c **** 
 178:drivers/Src/stm32f767xx_i2c_driver.c ****     uint32_t tempreg;
 179:drivers/Src/stm32f767xx_i2c_driver.c **** 
 180:drivers/Src/stm32f767xx_i2c_driver.c ****     // enable the clock for the I2Cx peripheral
 181:drivers/Src/stm32f767xx_i2c_driver.c ****     I2C_PeriClockControl(pI2CHandle->pI2Cx, ENABLE);
 603              		.loc 1 181 5
 604 0008 7B68     		ldr	r3, [r7, #4]
 605 000a 1B68     		ldr	r3, [r3]
 606 000c 0121     		movs	r1, #1
 607 000e 1846     		mov	r0, r3
 608 0010 FFF7FEFF 		bl	I2C_PeriClockControl
 182:drivers/Src/stm32f767xx_i2c_driver.c **** 
 183:drivers/Src/stm32f767xx_i2c_driver.c ****     // Slave initialization:
 184:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->Mode = I2C_MODE_SLAVE;
 609              		.loc 1 184 22
 610 0014 7B68     		ldr	r3, [r7, #4]
 611 0016 0022     		movs	r2, #0
 612 0018 9A77     		strb	r2, [r3, #30]
 185:drivers/Src/stm32f767xx_i2c_driver.c ****     // program the device own address (I2C_OAR1 bits 1 to 7)
 186:drivers/Src/stm32f767xx_i2c_driver.c ****     tempreg = 0;
 613              		.loc 1 186 13
 614 001a 0023     		movs	r3, #0
 615 001c FB60     		str	r3, [r7, #12]
 187:drivers/Src/stm32f767xx_i2c_driver.c ****     tempreg |= pI2CHandle->I2C_Config.I2C_DeviceAddress << I2C_OAR1_OA1_7BIT;
 616              		.loc 1 187 38
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 15


 617 001e 7B68     		ldr	r3, [r7, #4]
 618 0020 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 619              		.loc 1 187 57
 620 0022 5B00     		lsls	r3, r3, #1
 621 0024 1A46     		mov	r2, r3
 622              		.loc 1 187 13
 623 0026 FB68     		ldr	r3, [r7, #12]
 624 0028 1343     		orrs	r3, r3, r2
 625 002a FB60     		str	r3, [r7, #12]
 188:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->OAR1 = tempreg;
 626              		.loc 1 188 15
 627 002c 7B68     		ldr	r3, [r7, #4]
 628 002e 1B68     		ldr	r3, [r3]
 629              		.loc 1 188 29
 630 0030 FA68     		ldr	r2, [r7, #12]
 631 0032 9A60     		str	r2, [r3, #8]
 189:drivers/Src/stm32f767xx_i2c_driver.c ****     // address mode & own address 1 enable
 190:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->OAR1 &= ~(1 << I2C_OAR1_OA1MODE); // 7-bit address
 632              		.loc 1 190 15
 633 0034 7B68     		ldr	r3, [r7, #4]
 634 0036 1B68     		ldr	r3, [r3]
 635              		.loc 1 190 29
 636 0038 9A68     		ldr	r2, [r3, #8]
 637              		.loc 1 190 15
 638 003a 7B68     		ldr	r3, [r7, #4]
 639 003c 1B68     		ldr	r3, [r3]
 640              		.loc 1 190 29
 641 003e 22F48062 		bic	r2, r2, #1024
 642 0042 9A60     		str	r2, [r3, #8]
 191:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->OAR1 |= (1 << I2C_OAR1_OA1EN);    // address 1 enable
 643              		.loc 1 191 15
 644 0044 7B68     		ldr	r3, [r7, #4]
 645 0046 1B68     		ldr	r3, [r3]
 646              		.loc 1 191 29
 647 0048 9A68     		ldr	r2, [r3, #8]
 648              		.loc 1 191 15
 649 004a 7B68     		ldr	r3, [r7, #4]
 650 004c 1B68     		ldr	r3, [r3]
 651              		.loc 1 191 29
 652 004e 42F40042 		orr	r2, r2, #32768
 653 0052 9A60     		str	r2, [r3, #8]
 192:drivers/Src/stm32f767xx_i2c_driver.c ****     //pI2CHandle->pI2Cx->CR1 |= (1 << I2C_CR1_SBC); // enable hardware byte control in slave mode
 193:drivers/Src/stm32f767xx_i2c_driver.c **** 
 194:drivers/Src/stm32f767xx_i2c_driver.c ****     // fill I2C_TIMINGR register using hard-coded timings values
 195:drivers/Src/stm32f767xx_i2c_driver.c ****     uint8_t mode = 0;
 654              		.loc 1 195 13
 655 0054 0023     		movs	r3, #0
 656 0056 FB72     		strb	r3, [r7, #11]
 196:drivers/Src/stm32f767xx_i2c_driver.c ****     mode = pI2CHandle->I2C_Config.I2C_SCLSpeed; // mode: SM10k, SM100k, FM or FMPLUS
 657              		.loc 1 196 34
 658 0058 7B68     		ldr	r3, [r7, #4]
 659 005a 5B68     		ldr	r3, [r3, #4]
 660              		.loc 1 196 10
 661 005c FB72     		strb	r3, [r7, #11]
 197:drivers/Src/stm32f767xx_i2c_driver.c ****     if (RCC_GetPCLK1Value() == 8000000)
 662              		.loc 1 197 9
 663 005e FFF7FEFF 		bl	RCC_GetPCLK1Value
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 16


 664 0062 0346     		mov	r3, r0
 665              		.loc 1 197 8
 666 0064 1B4A     		ldr	r2, .L31
 667 0066 9342     		cmp	r3, r2
 668 0068 07D1     		bne	.L26
 198:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 199:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->TIMINGR = i2c_timings_8[mode];
 669              		.loc 1 199 51
 670 006a FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 671              		.loc 1 199 19
 672 006c 7B68     		ldr	r3, [r7, #4]
 673 006e 1B68     		ldr	r3, [r3]
 674              		.loc 1 199 51
 675 0070 1949     		ldr	r1, .L31+4
 676 0072 51F82220 		ldr	r2, [r1, r2, lsl #2]
 677              		.loc 1 199 36
 678 0076 1A61     		str	r2, [r3, #16]
 200:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 16000000)
 201:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 202:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->TIMINGR = i2c_timings_16[mode];
 203:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 48000000)
 204:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 205:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->TIMINGR = i2c_timings_48[mode];
 206:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 54000000)
 207:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 208:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->TIMINGR = i2c_timings_54[mode];
 209:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 210:drivers/Src/stm32f767xx_i2c_driver.c **** }
 679              		.loc 1 210 1
 680 0078 28E0     		b	.L30
 681              	.L26:
 200:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 16000000)
 682              		.loc 1 200 15
 683 007a FFF7FEFF 		bl	RCC_GetPCLK1Value
 684 007e 0346     		mov	r3, r0
 200:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 16000000)
 685              		.loc 1 200 14
 686 0080 164A     		ldr	r2, .L31+8
 687 0082 9342     		cmp	r3, r2
 688 0084 07D1     		bne	.L28
 202:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 48000000)
 689              		.loc 1 202 52
 690 0086 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 202:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 48000000)
 691              		.loc 1 202 19
 692 0088 7B68     		ldr	r3, [r7, #4]
 693 008a 1B68     		ldr	r3, [r3]
 202:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 48000000)
 694              		.loc 1 202 52
 695 008c 1449     		ldr	r1, .L31+12
 696 008e 51F82220 		ldr	r2, [r1, r2, lsl #2]
 202:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 48000000)
 697              		.loc 1 202 36
 698 0092 1A61     		str	r2, [r3, #16]
 699              		.loc 1 210 1
 700 0094 1AE0     		b	.L30
 701              	.L28:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 17


 203:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 702              		.loc 1 203 15
 703 0096 FFF7FEFF 		bl	RCC_GetPCLK1Value
 704 009a 0346     		mov	r3, r0
 203:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 705              		.loc 1 203 14
 706 009c 114A     		ldr	r2, .L31+16
 707 009e 9342     		cmp	r3, r2
 708 00a0 07D1     		bne	.L29
 205:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 54000000)
 709              		.loc 1 205 52
 710 00a2 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 205:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 54000000)
 711              		.loc 1 205 19
 712 00a4 7B68     		ldr	r3, [r7, #4]
 713 00a6 1B68     		ldr	r3, [r3]
 205:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 54000000)
 714              		.loc 1 205 52
 715 00a8 0F49     		ldr	r1, .L31+20
 716 00aa 51F82220 		ldr	r2, [r1, r2, lsl #2]
 205:drivers/Src/stm32f767xx_i2c_driver.c ****     }else if (RCC_GetPCLK1Value() == 54000000)
 717              		.loc 1 205 36
 718 00ae 1A61     		str	r2, [r3, #16]
 719              		.loc 1 210 1
 720 00b0 0CE0     		b	.L30
 721              	.L29:
 206:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 722              		.loc 1 206 15
 723 00b2 FFF7FEFF 		bl	RCC_GetPCLK1Value
 724 00b6 0346     		mov	r3, r0
 206:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 725              		.loc 1 206 14
 726 00b8 0C4A     		ldr	r2, .L31+24
 727 00ba 9342     		cmp	r3, r2
 728 00bc 06D1     		bne	.L30
 208:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 729              		.loc 1 208 52
 730 00be FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 208:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 731              		.loc 1 208 19
 732 00c0 7B68     		ldr	r3, [r7, #4]
 733 00c2 1B68     		ldr	r3, [r3]
 208:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 734              		.loc 1 208 52
 735 00c4 0A49     		ldr	r1, .L31+28
 736 00c6 51F82220 		ldr	r2, [r1, r2, lsl #2]
 208:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 737              		.loc 1 208 36
 738 00ca 1A61     		str	r2, [r3, #16]
 739              	.L30:
 740              		.loc 1 210 1
 741 00cc 00BF     		nop
 742 00ce 1037     		adds	r7, r7, #16
 743              		.cfi_def_cfa_offset 8
 744 00d0 BD46     		mov	sp, r7
 745              		.cfi_def_cfa_register 13
 746              		@ sp needed
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 18


 747 00d2 80BD     		pop	{r7, pc}
 748              	.L32:
 749              		.align	2
 750              	.L31:
 751 00d4 00127A00 		.word	8000000
 752 00d8 00000000 		.word	i2c_timings_8
 753 00dc 0024F400 		.word	16000000
 754 00e0 00000000 		.word	i2c_timings_16
 755 00e4 006CDC02 		.word	48000000
 756 00e8 00000000 		.word	i2c_timings_48
 757 00ec 80F93703 		.word	54000000
 758 00f0 00000000 		.word	i2c_timings_54
 759              		.cfi_endproc
 760              	.LFE7:
 762              		.section	.text.I2C_DeInit,"ax",%progbits
 763              		.align	1
 764              		.global	I2C_DeInit
 765              		.syntax unified
 766              		.thumb
 767              		.thumb_func
 769              	I2C_DeInit:
 770              	.LFB8:
 211:drivers/Src/stm32f767xx_i2c_driver.c **** 
 212:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 213:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief TODO
 214:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 215:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2Cx 
 216:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 217:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_DeInit(I2C_RegDef_t *pI2Cx)
 218:drivers/Src/stm32f767xx_i2c_driver.c **** {
 771              		.loc 1 218 1
 772              		.cfi_startproc
 773              		@ args = 0, pretend = 0, frame = 8
 774              		@ frame_needed = 1, uses_anonymous_args = 0
 775              		@ link register save eliminated.
 776 0000 80B4     		push	{r7}
 777              		.cfi_def_cfa_offset 4
 778              		.cfi_offset 7, -4
 779 0002 83B0     		sub	sp, sp, #12
 780              		.cfi_def_cfa_offset 16
 781 0004 00AF     		add	r7, sp, #0
 782              		.cfi_def_cfa_register 7
 783 0006 7860     		str	r0, [r7, #4]
 219:drivers/Src/stm32f767xx_i2c_driver.c **** 
 220:drivers/Src/stm32f767xx_i2c_driver.c **** }
 784              		.loc 1 220 1
 785 0008 00BF     		nop
 786 000a 0C37     		adds	r7, r7, #12
 787              		.cfi_def_cfa_offset 4
 788 000c BD46     		mov	sp, r7
 789              		.cfi_def_cfa_register 13
 790              		@ sp needed
 791 000e 5DF8047B 		ldr	r7, [sp], #4
 792              		.cfi_restore 7
 793              		.cfi_def_cfa_offset 0
 794 0012 7047     		bx	lr
 795              		.cfi_endproc
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 19


 796              	.LFE8:
 798              		.section	.text.I2C_GetFlagStatus,"ax",%progbits
 799              		.align	1
 800              		.global	I2C_GetFlagStatus
 801              		.syntax unified
 802              		.thumb
 803              		.thumb_func
 805              	I2C_GetFlagStatus:
 806              	.LFB9:
 221:drivers/Src/stm32f767xx_i2c_driver.c **** 
 222:drivers/Src/stm32f767xx_i2c_driver.c **** 
 223:drivers/Src/stm32f767xx_i2c_driver.c **** 
 224:drivers/Src/stm32f767xx_i2c_driver.c **** uint8_t I2C_GetFlagStatus(I2C_RegDef_t *pI2Cx , uint32_t FlagName)
 225:drivers/Src/stm32f767xx_i2c_driver.c **** {
 807              		.loc 1 225 1
 808              		.cfi_startproc
 809              		@ args = 0, pretend = 0, frame = 8
 810              		@ frame_needed = 1, uses_anonymous_args = 0
 811              		@ link register save eliminated.
 812 0000 80B4     		push	{r7}
 813              		.cfi_def_cfa_offset 4
 814              		.cfi_offset 7, -4
 815 0002 83B0     		sub	sp, sp, #12
 816              		.cfi_def_cfa_offset 16
 817 0004 00AF     		add	r7, sp, #0
 818              		.cfi_def_cfa_register 7
 819 0006 7860     		str	r0, [r7, #4]
 820 0008 3960     		str	r1, [r7]
 226:drivers/Src/stm32f767xx_i2c_driver.c **** 	if(pI2Cx->ISR & FlagName)
 821              		.loc 1 226 10
 822 000a 7B68     		ldr	r3, [r7, #4]
 823 000c 9A69     		ldr	r2, [r3, #24]
 824              		.loc 1 226 16
 825 000e 3B68     		ldr	r3, [r7]
 826 0010 1340     		ands	r3, r3, r2
 827              		.loc 1 226 4
 828 0012 002B     		cmp	r3, #0
 829 0014 01D0     		beq	.L35
 227:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 228:drivers/Src/stm32f767xx_i2c_driver.c **** 		return FLAG_SET;
 830              		.loc 1 228 10
 831 0016 0123     		movs	r3, #1
 832 0018 00E0     		b	.L36
 833              	.L35:
 229:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 230:drivers/Src/stm32f767xx_i2c_driver.c **** 	return FLAG_RESET;
 834              		.loc 1 230 9
 835 001a 0023     		movs	r3, #0
 836              	.L36:
 231:drivers/Src/stm32f767xx_i2c_driver.c **** }
 837              		.loc 1 231 1
 838 001c 1846     		mov	r0, r3
 839 001e 0C37     		adds	r7, r7, #12
 840              		.cfi_def_cfa_offset 4
 841 0020 BD46     		mov	sp, r7
 842              		.cfi_def_cfa_register 13
 843              		@ sp needed
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 20


 844 0022 5DF8047B 		ldr	r7, [sp], #4
 845              		.cfi_restore 7
 846              		.cfi_def_cfa_offset 0
 847 0026 7047     		bx	lr
 848              		.cfi_endproc
 849              	.LFE9:
 851              		.section	.text.I2C_MasterSendData,"ax",%progbits
 852              		.align	1
 853              		.global	I2C_MasterSendData
 854              		.syntax unified
 855              		.thumb
 856              		.thumb_func
 858              	I2C_MasterSendData:
 859              	.LFB10:
 232:drivers/Src/stm32f767xx_i2c_driver.c **** 
 233:drivers/Src/stm32f767xx_i2c_driver.c **** 
 234:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 235:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C Master Mode Send Data
 236:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 237:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2CHandle    I2C handle
 238:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pTxbuffer     buffer
 239:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param Len           length
 240:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param SlaveAddr     Slave address
 241:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param Sr 
 242:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 243:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_MasterSendData(I2C_Handle_t *pI2CHandle,uint8_t *pTxBuffer, uint32_t Len, uint8_t SlaveAdd
 244:drivers/Src/stm32f767xx_i2c_driver.c **** {
 860              		.loc 1 244 1
 861              		.cfi_startproc
 862              		@ args = 4, pretend = 0, frame = 16
 863              		@ frame_needed = 1, uses_anonymous_args = 0
 864 0000 80B5     		push	{r7, lr}
 865              		.cfi_def_cfa_offset 8
 866              		.cfi_offset 7, -8
 867              		.cfi_offset 14, -4
 868 0002 84B0     		sub	sp, sp, #16
 869              		.cfi_def_cfa_offset 24
 870 0004 00AF     		add	r7, sp, #0
 871              		.cfi_def_cfa_register 7
 872 0006 F860     		str	r0, [r7, #12]
 873 0008 B960     		str	r1, [r7, #8]
 874 000a 7A60     		str	r2, [r7, #4]
 875 000c FB70     		strb	r3, [r7, #3]
 245:drivers/Src/stm32f767xx_i2c_driver.c ****     // Send the address of the slave with r/nw bit set to w(0) (total 8 bits )
 246:drivers/Src/stm32f767xx_i2c_driver.c **** 	I2C_ExecuteAddressPhaseWrite(pI2CHandle->pI2Cx,SlaveAddr);
 876              		.loc 1 246 2
 877 000e FB68     		ldr	r3, [r7, #12]
 878 0010 1B68     		ldr	r3, [r3]
 879 0012 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 880 0014 1146     		mov	r1, r2
 881 0016 1846     		mov	r0, r3
 882 0018 FFF7FEFF 		bl	I2C_ExecuteAddressPhaseWrite
 247:drivers/Src/stm32f767xx_i2c_driver.c **** 
 248:drivers/Src/stm32f767xx_i2c_driver.c ****     // Set autoend to 0, and length of data to be transmitted
 249:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR2 &= ~(1 << I2C_CR2_AUTOEND);  //software end mode: TC flag is set when NB
 883              		.loc 1 249 15
 884 001c FB68     		ldr	r3, [r7, #12]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 21


 885 001e 1B68     		ldr	r3, [r3]
 886              		.loc 1 249 28
 887 0020 5A68     		ldr	r2, [r3, #4]
 888              		.loc 1 249 15
 889 0022 FB68     		ldr	r3, [r7, #12]
 890 0024 1B68     		ldr	r3, [r3]
 891              		.loc 1 249 28
 892 0026 22F00072 		bic	r2, r2, #33554432
 893 002a 5A60     		str	r2, [r3, #4]
 250:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR2 |= (Len << I2C_CR2_NBYTES);  //number of bytes to be transmitted
 894              		.loc 1 250 15
 895 002c FB68     		ldr	r3, [r7, #12]
 896 002e 1B68     		ldr	r3, [r3]
 897              		.loc 1 250 28
 898 0030 5968     		ldr	r1, [r3, #4]
 899              		.loc 1 250 36
 900 0032 7B68     		ldr	r3, [r7, #4]
 901 0034 1A04     		lsls	r2, r3, #16
 902              		.loc 1 250 15
 903 0036 FB68     		ldr	r3, [r7, #12]
 904 0038 1B68     		ldr	r3, [r3]
 905              		.loc 1 250 28
 906 003a 0A43     		orrs	r2, r2, r1
 907 003c 5A60     		str	r2, [r3, #4]
 251:drivers/Src/stm32f767xx_i2c_driver.c **** 
 252:drivers/Src/stm32f767xx_i2c_driver.c ****     // Generate the START condition
 253:drivers/Src/stm32f767xx_i2c_driver.c ****     I2C_GenerateStartCondition(pI2CHandle->pI2Cx);
 908              		.loc 1 253 5
 909 003e FB68     		ldr	r3, [r7, #12]
 910 0040 1B68     		ldr	r3, [r3]
 911 0042 1846     		mov	r0, r3
 912 0044 FFF7FEFF 		bl	I2C_GenerateStartCondition
 254:drivers/Src/stm32f767xx_i2c_driver.c **** 
 255:drivers/Src/stm32f767xx_i2c_driver.c ****     // Send the data until Len becomes 0
 256:drivers/Src/stm32f767xx_i2c_driver.c ****     while(Len > 0)
 913              		.loc 1 256 10
 914 0048 14E0     		b	.L38
 915              	.L40:
 257:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 258:drivers/Src/stm32f767xx_i2c_driver.c **** 		while(! I2C_GetFlagStatus(pI2CHandle->pI2Cx,I2C_FLAG_TXE) ); //Wait till TXE is set
 916              		.loc 1 258 8
 917 004a 00BF     		nop
 918              	.L39:
 919              		.loc 1 258 11 discriminator 1
 920 004c FB68     		ldr	r3, [r7, #12]
 921 004e 1B68     		ldr	r3, [r3]
 922 0050 0121     		movs	r1, #1
 923 0052 1846     		mov	r0, r3
 924 0054 FFF7FEFF 		bl	I2C_GetFlagStatus
 925 0058 0346     		mov	r3, r0
 926              		.loc 1 258 9 discriminator 1
 927 005a 002B     		cmp	r3, #0
 928 005c F6D0     		beq	.L39
 259:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->pI2Cx->TXDR = *pTxBuffer;
 929              		.loc 1 259 29
 930 005e BB68     		ldr	r3, [r7, #8]
 931 0060 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 22


 932              		.loc 1 259 13
 933 0062 FB68     		ldr	r3, [r7, #12]
 934 0064 1B68     		ldr	r3, [r3]
 935              		.loc 1 259 27
 936 0066 9A62     		str	r2, [r3, #40]
 260:drivers/Src/stm32f767xx_i2c_driver.c **** 		pTxBuffer++;
 937              		.loc 1 260 12
 938 0068 BB68     		ldr	r3, [r7, #8]
 939 006a 0133     		adds	r3, r3, #1
 940 006c BB60     		str	r3, [r7, #8]
 261:drivers/Src/stm32f767xx_i2c_driver.c **** 		Len--;
 941              		.loc 1 261 6
 942 006e 7B68     		ldr	r3, [r7, #4]
 943 0070 013B     		subs	r3, r3, #1
 944 0072 7B60     		str	r3, [r7, #4]
 945              	.L38:
 256:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 946              		.loc 1 256 15
 947 0074 7B68     		ldr	r3, [r7, #4]
 948 0076 002B     		cmp	r3, #0
 949 0078 E7D1     		bne	.L40
 262:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 263:drivers/Src/stm32f767xx_i2c_driver.c **** 
 264:drivers/Src/stm32f767xx_i2c_driver.c ****     // wait until TC flag is set (when NBYTES data are transferred)
 265:drivers/Src/stm32f767xx_i2c_driver.c ****     while(!(I2C_GetFlagStatus(pI2CHandle->pI2Cx,I2C_FLAG_TC)));
 950              		.loc 1 265 10
 951 007a 00BF     		nop
 952              	.L41:
 953              		.loc 1 265 13 discriminator 1
 954 007c FB68     		ldr	r3, [r7, #12]
 955 007e 1B68     		ldr	r3, [r3]
 956 0080 4021     		movs	r1, #64
 957 0082 1846     		mov	r0, r3
 958 0084 FFF7FEFF 		bl	I2C_GetFlagStatus
 959 0088 0346     		mov	r3, r0
 960              		.loc 1 265 11 discriminator 1
 961 008a 002B     		cmp	r3, #0
 962 008c F6D0     		beq	.L41
 266:drivers/Src/stm32f767xx_i2c_driver.c ****     
 267:drivers/Src/stm32f767xx_i2c_driver.c ****     if (Sr == I2C_DISABLE_SR)
 963              		.loc 1 267 8
 964 008e 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 965 0090 002B     		cmp	r3, #0
 966 0092 04D1     		bne	.L42
 268:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 269:drivers/Src/stm32f767xx_i2c_driver.c ****         // Generate STOP condition
 270:drivers/Src/stm32f767xx_i2c_driver.c ****         I2C_GenerateStopCondition(pI2CHandle->pI2Cx);
 967              		.loc 1 270 9
 968 0094 FB68     		ldr	r3, [r7, #12]
 969 0096 1B68     		ldr	r3, [r3]
 970 0098 1846     		mov	r0, r3
 971 009a FFF7FEFF 		bl	I2C_GenerateStopCondition
 972              	.L42:
 271:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 272:drivers/Src/stm32f767xx_i2c_driver.c ****     
 273:drivers/Src/stm32f767xx_i2c_driver.c **** 
 274:drivers/Src/stm32f767xx_i2c_driver.c ****     // clear STOPF flag in I2C_ICR and clear the I2C_CR2 register:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 23


 275:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->ICR |= (1 << I2C_ICR_STOPCF);
 973              		.loc 1 275 15
 974 009e FB68     		ldr	r3, [r7, #12]
 975 00a0 1B68     		ldr	r3, [r3]
 976              		.loc 1 275 28
 977 00a2 DA69     		ldr	r2, [r3, #28]
 978              		.loc 1 275 15
 979 00a4 FB68     		ldr	r3, [r7, #12]
 980 00a6 1B68     		ldr	r3, [r3]
 981              		.loc 1 275 28
 982 00a8 42F02002 		orr	r2, r2, #32
 983 00ac DA61     		str	r2, [r3, #28]
 276:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR2 = 0x0;
 984              		.loc 1 276 15
 985 00ae FB68     		ldr	r3, [r7, #12]
 986 00b0 1B68     		ldr	r3, [r3]
 987              		.loc 1 276 28
 988 00b2 0022     		movs	r2, #0
 989 00b4 5A60     		str	r2, [r3, #4]
 277:drivers/Src/stm32f767xx_i2c_driver.c **** }
 990              		.loc 1 277 1
 991 00b6 00BF     		nop
 992 00b8 1037     		adds	r7, r7, #16
 993              		.cfi_def_cfa_offset 8
 994 00ba BD46     		mov	sp, r7
 995              		.cfi_def_cfa_register 13
 996              		@ sp needed
 997 00bc 80BD     		pop	{r7, pc}
 998              		.cfi_endproc
 999              	.LFE10:
 1001              		.section	.text.I2C_MasterReceiveData,"ax",%progbits
 1002              		.align	1
 1003              		.global	I2C_MasterReceiveData
 1004              		.syntax unified
 1005              		.thumb
 1006              		.thumb_func
 1008              	I2C_MasterReceiveData:
 1009              	.LFB11:
 278:drivers/Src/stm32f767xx_i2c_driver.c **** 
 279:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 280:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C Master Mode Receive Data
 281:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 282:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2CHandle I2C handle
 283:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pRxBuffer buffer
 284:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param Len length
 285:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param SlaveAddr slave address
 286:drivers/Src/stm32f767xx_i2c_driver.c ****  */ 
 287:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_MasterReceiveData(I2C_Handle_t *pI2CHandle, uint8_t *pRxBuffer, uint8_t Len, uint8_t Slave
 288:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1010              		.loc 1 288 1
 1011              		.cfi_startproc
 1012              		@ args = 4, pretend = 0, frame = 16
 1013              		@ frame_needed = 1, uses_anonymous_args = 0
 1014 0000 80B5     		push	{r7, lr}
 1015              		.cfi_def_cfa_offset 8
 1016              		.cfi_offset 7, -8
 1017              		.cfi_offset 14, -4
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 24


 1018 0002 84B0     		sub	sp, sp, #16
 1019              		.cfi_def_cfa_offset 24
 1020 0004 00AF     		add	r7, sp, #0
 1021              		.cfi_def_cfa_register 7
 1022 0006 F860     		str	r0, [r7, #12]
 1023 0008 B960     		str	r1, [r7, #8]
 1024 000a 1146     		mov	r1, r2
 1025 000c 1A46     		mov	r2, r3
 1026 000e 0B46     		mov	r3, r1
 1027 0010 FB71     		strb	r3, [r7, #7]
 1028 0012 1346     		mov	r3, r2
 1029 0014 BB71     		strb	r3, [r7, #6]
 289:drivers/Src/stm32f767xx_i2c_driver.c ****     // Send the address of the slave with r/nw bit set to r(1) (total 8 bits )
 290:drivers/Src/stm32f767xx_i2c_driver.c **** 	I2C_ExecuteAddressPhaseRead(pI2CHandle->pI2Cx,SlaveAddr);
 1030              		.loc 1 290 2
 1031 0016 FB68     		ldr	r3, [r7, #12]
 1032 0018 1B68     		ldr	r3, [r3]
 1033 001a BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 1034 001c 1146     		mov	r1, r2
 1035 001e 1846     		mov	r0, r3
 1036 0020 FFF7FEFF 		bl	I2C_ExecuteAddressPhaseRead
 291:drivers/Src/stm32f767xx_i2c_driver.c **** 
 292:drivers/Src/stm32f767xx_i2c_driver.c ****     // Set autoend to 0, and length of data to be received
 293:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR2 &= ~(1 << I2C_CR2_AUTOEND);  //software end mode: TC flag is set when NB
 1037              		.loc 1 293 15
 1038 0024 FB68     		ldr	r3, [r7, #12]
 1039 0026 1B68     		ldr	r3, [r3]
 1040              		.loc 1 293 28
 1041 0028 5A68     		ldr	r2, [r3, #4]
 1042              		.loc 1 293 15
 1043 002a FB68     		ldr	r3, [r7, #12]
 1044 002c 1B68     		ldr	r3, [r3]
 1045              		.loc 1 293 28
 1046 002e 22F00072 		bic	r2, r2, #33554432
 1047 0032 5A60     		str	r2, [r3, #4]
 294:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR2 |= (Len << I2C_CR2_NBYTES);  //number of bytes to be received
 1048              		.loc 1 294 15
 1049 0034 FB68     		ldr	r3, [r7, #12]
 1050 0036 1B68     		ldr	r3, [r3]
 1051              		.loc 1 294 28
 1052 0038 5A68     		ldr	r2, [r3, #4]
 1053              		.loc 1 294 36
 1054 003a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1055 003c 1B04     		lsls	r3, r3, #16
 1056 003e 1946     		mov	r1, r3
 1057              		.loc 1 294 15
 1058 0040 FB68     		ldr	r3, [r7, #12]
 1059 0042 1B68     		ldr	r3, [r3]
 1060              		.loc 1 294 28
 1061 0044 0A43     		orrs	r2, r2, r1
 1062 0046 5A60     		str	r2, [r3, #4]
 295:drivers/Src/stm32f767xx_i2c_driver.c **** 
 296:drivers/Src/stm32f767xx_i2c_driver.c ****     // Generate the START condition
 297:drivers/Src/stm32f767xx_i2c_driver.c ****     I2C_GenerateStartCondition(pI2CHandle->pI2Cx);
 1063              		.loc 1 297 5
 1064 0048 FB68     		ldr	r3, [r7, #12]
 1065 004a 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 25


 1066 004c 1846     		mov	r0, r3
 1067 004e FFF7FEFF 		bl	I2C_GenerateStartCondition
 298:drivers/Src/stm32f767xx_i2c_driver.c **** 
 299:drivers/Src/stm32f767xx_i2c_driver.c ****     // Receive the data until Len becomes 0
 300:drivers/Src/stm32f767xx_i2c_driver.c ****     while(Len > 0)
 1068              		.loc 1 300 10
 1069 0052 15E0     		b	.L44
 1070              	.L46:
 301:drivers/Src/stm32f767xx_i2c_driver.c **** 	{   
 302:drivers/Src/stm32f767xx_i2c_driver.c **** 		while(! I2C_GetFlagStatus(pI2CHandle->pI2Cx,I2C_FLAG_RXNE) ); //Wait till RXNE is set
 1071              		.loc 1 302 8
 1072 0054 00BF     		nop
 1073              	.L45:
 1074              		.loc 1 302 11 discriminator 1
 1075 0056 FB68     		ldr	r3, [r7, #12]
 1076 0058 1B68     		ldr	r3, [r3]
 1077 005a 0421     		movs	r1, #4
 1078 005c 1846     		mov	r0, r3
 1079 005e FFF7FEFF 		bl	I2C_GetFlagStatus
 1080 0062 0346     		mov	r3, r0
 1081              		.loc 1 302 9 discriminator 1
 1082 0064 002B     		cmp	r3, #0
 1083 0066 F6D0     		beq	.L45
 303:drivers/Src/stm32f767xx_i2c_driver.c **** 		*pRxBuffer = pI2CHandle->pI2Cx->RXDR; // read data into buffer
 1084              		.loc 1 303 26
 1085 0068 FB68     		ldr	r3, [r7, #12]
 1086 006a 1B68     		ldr	r3, [r3]
 1087              		.loc 1 303 33
 1088 006c 5B6A     		ldr	r3, [r3, #36]
 1089              		.loc 1 303 14
 1090 006e DAB2     		uxtb	r2, r3
 1091 0070 BB68     		ldr	r3, [r7, #8]
 1092 0072 1A70     		strb	r2, [r3]
 304:drivers/Src/stm32f767xx_i2c_driver.c **** 		pRxBuffer++;
 1093              		.loc 1 304 12
 1094 0074 BB68     		ldr	r3, [r7, #8]
 1095 0076 0133     		adds	r3, r3, #1
 1096 0078 BB60     		str	r3, [r7, #8]
 305:drivers/Src/stm32f767xx_i2c_driver.c **** 		Len--;
 1097              		.loc 1 305 6
 1098 007a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1099 007c 013B     		subs	r3, r3, #1
 1100 007e FB71     		strb	r3, [r7, #7]
 1101              	.L44:
 300:drivers/Src/stm32f767xx_i2c_driver.c **** 	{   
 1102              		.loc 1 300 15
 1103 0080 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1104 0082 002B     		cmp	r3, #0
 1105 0084 E6D1     		bne	.L46
 306:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 307:drivers/Src/stm32f767xx_i2c_driver.c **** 
 308:drivers/Src/stm32f767xx_i2c_driver.c ****     // wait until TC flag is set (when NBYTES data are transferred)
 309:drivers/Src/stm32f767xx_i2c_driver.c ****     while(!(I2C_GetFlagStatus(pI2CHandle->pI2Cx,I2C_FLAG_TC)));
 1106              		.loc 1 309 10
 1107 0086 00BF     		nop
 1108              	.L47:
 1109              		.loc 1 309 13 discriminator 1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 26


 1110 0088 FB68     		ldr	r3, [r7, #12]
 1111 008a 1B68     		ldr	r3, [r3]
 1112 008c 4021     		movs	r1, #64
 1113 008e 1846     		mov	r0, r3
 1114 0090 FFF7FEFF 		bl	I2C_GetFlagStatus
 1115 0094 0346     		mov	r3, r0
 1116              		.loc 1 309 11 discriminator 1
 1117 0096 002B     		cmp	r3, #0
 1118 0098 F6D0     		beq	.L47
 310:drivers/Src/stm32f767xx_i2c_driver.c ****     
 311:drivers/Src/stm32f767xx_i2c_driver.c ****     if (Sr == I2C_DISABLE_SR)
 1119              		.loc 1 311 8
 1120 009a 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 1121 009c 002B     		cmp	r3, #0
 1122 009e 04D1     		bne	.L48
 312:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 313:drivers/Src/stm32f767xx_i2c_driver.c ****         // Generate STOP condition
 314:drivers/Src/stm32f767xx_i2c_driver.c ****         I2C_GenerateStopCondition(pI2CHandle->pI2Cx);
 1123              		.loc 1 314 9
 1124 00a0 FB68     		ldr	r3, [r7, #12]
 1125 00a2 1B68     		ldr	r3, [r3]
 1126 00a4 1846     		mov	r0, r3
 1127 00a6 FFF7FEFF 		bl	I2C_GenerateStopCondition
 1128              	.L48:
 315:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 316:drivers/Src/stm32f767xx_i2c_driver.c **** 
 317:drivers/Src/stm32f767xx_i2c_driver.c **** 
 318:drivers/Src/stm32f767xx_i2c_driver.c ****     // clear STOPF flag in I2C_ICR and clear the I2C_CR2 register:
 319:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->ICR |= (1 << I2C_ICR_STOPCF);
 1129              		.loc 1 319 15
 1130 00aa FB68     		ldr	r3, [r7, #12]
 1131 00ac 1B68     		ldr	r3, [r3]
 1132              		.loc 1 319 28
 1133 00ae DA69     		ldr	r2, [r3, #28]
 1134              		.loc 1 319 15
 1135 00b0 FB68     		ldr	r3, [r7, #12]
 1136 00b2 1B68     		ldr	r3, [r3]
 1137              		.loc 1 319 28
 1138 00b4 42F02002 		orr	r2, r2, #32
 1139 00b8 DA61     		str	r2, [r3, #28]
 320:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR2 = 0x0;
 1140              		.loc 1 320 15
 1141 00ba FB68     		ldr	r3, [r7, #12]
 1142 00bc 1B68     		ldr	r3, [r3]
 1143              		.loc 1 320 28
 1144 00be 0022     		movs	r2, #0
 1145 00c0 5A60     		str	r2, [r3, #4]
 321:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1146              		.loc 1 321 1
 1147 00c2 00BF     		nop
 1148 00c4 1037     		adds	r7, r7, #16
 1149              		.cfi_def_cfa_offset 8
 1150 00c6 BD46     		mov	sp, r7
 1151              		.cfi_def_cfa_register 13
 1152              		@ sp needed
 1153 00c8 80BD     		pop	{r7, pc}
 1154              		.cfi_endproc
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 27


 1155              	.LFE11:
 1157              		.section	.text.I2C_IRQInterruptConfig,"ax",%progbits
 1158              		.align	1
 1159              		.global	I2C_IRQInterruptConfig
 1160              		.syntax unified
 1161              		.thumb
 1162              		.thumb_func
 1164              	I2C_IRQInterruptConfig:
 1165              	.LFB12:
 322:drivers/Src/stm32f767xx_i2c_driver.c **** 
 323:drivers/Src/stm32f767xx_i2c_driver.c **** 
 324:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 325:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C IRQ Interrupt Enable or Disable
 326:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 327:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param IRQNumber 
 328:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param EnorDi 
 329:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 330:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_IRQInterruptConfig(uint8_t IRQNumber, uint8_t EnorDi)
 331:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1166              		.loc 1 331 1
 1167              		.cfi_startproc
 1168              		@ args = 0, pretend = 0, frame = 8
 1169              		@ frame_needed = 1, uses_anonymous_args = 0
 1170              		@ link register save eliminated.
 1171 0000 80B4     		push	{r7}
 1172              		.cfi_def_cfa_offset 4
 1173              		.cfi_offset 7, -4
 1174 0002 83B0     		sub	sp, sp, #12
 1175              		.cfi_def_cfa_offset 16
 1176 0004 00AF     		add	r7, sp, #0
 1177              		.cfi_def_cfa_register 7
 1178 0006 0346     		mov	r3, r0
 1179 0008 0A46     		mov	r2, r1
 1180 000a FB71     		strb	r3, [r7, #7]
 1181 000c 1346     		mov	r3, r2
 1182 000e BB71     		strb	r3, [r7, #6]
 332:drivers/Src/stm32f767xx_i2c_driver.c ****     if(EnorDi == ENABLE)
 1183              		.loc 1 332 7
 1184 0010 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 1185 0012 012B     		cmp	r3, #1
 1186 0014 4ED1     		bne	.L50
 333:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 334:drivers/Src/stm32f767xx_i2c_driver.c **** 		if(IRQNumber <= 31)							// 0 to 31
 1187              		.loc 1 334 5
 1188 0016 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1189 0018 1F2B     		cmp	r3, #31
 1190 001a 0AD8     		bhi	.L51
 335:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 336:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ISER0 register
 337:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ISER0 |= (1 << IRQNumber);
 1191              		.loc 1 337 16
 1192 001c 504B     		ldr	r3, .L60
 1193 001e 1B68     		ldr	r3, [r3]
 1194              		.loc 1 337 22
 1195 0020 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1196 0022 0121     		movs	r1, #1
 1197 0024 01FA02F2 		lsl	r2, r1, r2
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 28


 1198 0028 1146     		mov	r1, r2
 1199              		.loc 1 337 16
 1200 002a 4D4A     		ldr	r2, .L60
 1201 002c 0B43     		orrs	r3, r3, r1
 1202 002e 1360     		str	r3, [r2]
 338:drivers/Src/stm32f767xx_i2c_driver.c **** 
 339:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (IRQNumber > 31 && IRQNumber < 64) // 32 to 63
 340:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 341:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ISER1 register
 342:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ISER1 |= (1 << (IRQNumber % 32));
 343:drivers/Src/stm32f767xx_i2c_driver.c **** 
 344:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (IRQNumber >= 64 && IRQNumber < 96) // 64 to 95
 345:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 346:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ISER2 register
 347:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ISER2 |= (1 << (IRQNumber % 64));
 348:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 349:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (IRQNumber >= 96 && IRQNumber < 128) // 96 to 127 (max is 109 on F767)
 350:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 351:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ISER3 register
 352:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ISER3 |= (1 << (IRQNumber % 96));
 353:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 354:drivers/Src/stm32f767xx_i2c_driver.c **** 		}
 355:drivers/Src/stm32f767xx_i2c_driver.c **** 	}else
 356:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 357:drivers/Src/stm32f767xx_i2c_driver.c **** 		if(IRQNumber <= 31)
 358:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 359:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ICER0 register
 360:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ICER0 |= (1 << IRQNumber);
 361:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 362:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if(IRQNumber > 31 && IRQNumber < 64 )
 363:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 364:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ICER1 register
 365:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ICER1 |= (1 << (IRQNumber % 32));
 366:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 367:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if(IRQNumber >= 64 && IRQNumber < 96 )
 368:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 369:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ICER2 register
 370:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ICER2 |= (1 << (IRQNumber % 64));
 371:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 372:drivers/Src/stm32f767xx_i2c_driver.c **** 		}else if (IRQNumber >= 96 && IRQNumber < 128)
 373:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 374:drivers/Src/stm32f767xx_i2c_driver.c **** 			//program ICER3 register
 375:drivers/Src/stm32f767xx_i2c_driver.c **** 			*NVIC_ICER3 |= (1 << (IRQNumber % 96));
 376:drivers/Src/stm32f767xx_i2c_driver.c **** 
 377:drivers/Src/stm32f767xx_i2c_driver.c **** 		}
 378:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 379:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1203              		.loc 1 379 1
 1204 0030 8FE0     		b	.L59
 1205              	.L51:
 339:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1206              		.loc 1 339 12
 1207 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1208 0034 1F2B     		cmp	r3, #31
 1209 0036 0FD9     		bls	.L53
 339:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1210              		.loc 1 339 28 discriminator 1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 29


 1211 0038 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1212 003a 3F2B     		cmp	r3, #63
 1213 003c 0CD8     		bhi	.L53
 342:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1214              		.loc 1 342 16
 1215 003e 494B     		ldr	r3, .L60+4
 1216 0040 1B68     		ldr	r3, [r3]
 342:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1217              		.loc 1 342 36
 1218 0042 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1219 0044 02F01F02 		and	r2, r2, #31
 342:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1220              		.loc 1 342 22
 1221 0048 0121     		movs	r1, #1
 1222 004a 01FA02F2 		lsl	r2, r1, r2
 1223 004e 1146     		mov	r1, r2
 342:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1224              		.loc 1 342 16
 1225 0050 444A     		ldr	r2, .L60+4
 1226 0052 0B43     		orrs	r3, r3, r1
 1227 0054 1360     		str	r3, [r2]
 1228 0056 7CE0     		b	.L55
 1229              	.L53:
 344:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1230              		.loc 1 344 12
 1231 0058 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1232 005a 3F2B     		cmp	r3, #63
 1233 005c 0FD9     		bls	.L54
 344:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1234              		.loc 1 344 29 discriminator 1
 1235 005e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1236 0060 5F2B     		cmp	r3, #95
 1237 0062 0CD8     		bhi	.L54
 347:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1238              		.loc 1 347 16
 1239 0064 404B     		ldr	r3, .L60+8
 1240 0066 1B68     		ldr	r3, [r3]
 347:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1241              		.loc 1 347 36
 1242 0068 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1243 006a 02F03F02 		and	r2, r2, #63
 347:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1244              		.loc 1 347 22
 1245 006e 0121     		movs	r1, #1
 1246 0070 01FA02F2 		lsl	r2, r1, r2
 1247 0074 1146     		mov	r1, r2
 347:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1248              		.loc 1 347 16
 1249 0076 3C4A     		ldr	r2, .L60+8
 1250 0078 0B43     		orrs	r3, r3, r1
 1251 007a 1360     		str	r3, [r2]
 1252 007c 69E0     		b	.L55
 1253              	.L54:
 349:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1254              		.loc 1 349 12
 1255 007e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1256 0080 5F2B     		cmp	r3, #95
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 30


 1257 0082 66D9     		bls	.L59
 349:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1258              		.loc 1 349 42 discriminator 1
 1259 0084 97F90730 		ldrsb	r3, [r7, #7]
 349:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1260              		.loc 1 349 29 discriminator 1
 1261 0088 002B     		cmp	r3, #0
 1262 008a 62DB     		blt	.L59
 352:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1263              		.loc 1 352 16
 1264 008c 374B     		ldr	r3, .L60+12
 1265 008e 1868     		ldr	r0, [r3]
 352:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1266              		.loc 1 352 36
 1267 0090 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1268 0092 374B     		ldr	r3, .L60+16
 1269 0094 A3FB0213 		umull	r1, r3, r3, r2
 1270 0098 9909     		lsrs	r1, r3, #6
 1271 009a 0B46     		mov	r3, r1
 1272 009c 5B00     		lsls	r3, r3, #1
 1273 009e 0B44     		add	r3, r3, r1
 1274 00a0 5B01     		lsls	r3, r3, #5
 1275 00a2 D31A     		subs	r3, r2, r3
 1276 00a4 DBB2     		uxtb	r3, r3
 1277 00a6 1A46     		mov	r2, r3
 352:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1278              		.loc 1 352 22
 1279 00a8 0123     		movs	r3, #1
 1280 00aa 9340     		lsls	r3, r3, r2
 352:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1281              		.loc 1 352 16
 1282 00ac 2F4A     		ldr	r2, .L60+12
 1283 00ae 0343     		orrs	r3, r3, r0
 1284 00b0 1360     		str	r3, [r2]
 1285              		.loc 1 379 1
 1286 00b2 4EE0     		b	.L59
 1287              	.L50:
 357:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1288              		.loc 1 357 5
 1289 00b4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1290 00b6 1F2B     		cmp	r3, #31
 1291 00b8 0AD8     		bhi	.L56
 360:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1292              		.loc 1 360 16
 1293 00ba 2E4B     		ldr	r3, .L60+20
 1294 00bc 1B68     		ldr	r3, [r3]
 360:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1295              		.loc 1 360 22
 1296 00be FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1297 00c0 0121     		movs	r1, #1
 1298 00c2 01FA02F2 		lsl	r2, r1, r2
 1299 00c6 1146     		mov	r1, r2
 360:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1300              		.loc 1 360 16
 1301 00c8 2A4A     		ldr	r2, .L60+20
 1302 00ca 0B43     		orrs	r3, r3, r1
 1303 00cc 1360     		str	r3, [r2]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 31


 1304              		.loc 1 379 1
 1305 00ce 40E0     		b	.L59
 1306              	.L56:
 362:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1307              		.loc 1 362 11
 1308 00d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1309 00d2 1F2B     		cmp	r3, #31
 1310 00d4 0FD9     		bls	.L57
 362:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1311              		.loc 1 362 27 discriminator 1
 1312 00d6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1313 00d8 3F2B     		cmp	r3, #63
 1314 00da 0CD8     		bhi	.L57
 365:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1315              		.loc 1 365 16
 1316 00dc 264B     		ldr	r3, .L60+24
 1317 00de 1B68     		ldr	r3, [r3]
 365:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1318              		.loc 1 365 36
 1319 00e0 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1320 00e2 02F01F02 		and	r2, r2, #31
 365:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1321              		.loc 1 365 22
 1322 00e6 0121     		movs	r1, #1
 1323 00e8 01FA02F2 		lsl	r2, r1, r2
 1324 00ec 1146     		mov	r1, r2
 365:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1325              		.loc 1 365 16
 1326 00ee 224A     		ldr	r2, .L60+24
 1327 00f0 0B43     		orrs	r3, r3, r1
 1328 00f2 1360     		str	r3, [r2]
 1329 00f4 2DE0     		b	.L55
 1330              	.L57:
 367:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1331              		.loc 1 367 11
 1332 00f6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1333 00f8 3F2B     		cmp	r3, #63
 1334 00fa 0FD9     		bls	.L58
 367:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1335              		.loc 1 367 28 discriminator 1
 1336 00fc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1337 00fe 5F2B     		cmp	r3, #95
 1338 0100 0CD8     		bhi	.L58
 370:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1339              		.loc 1 370 16
 1340 0102 1E4B     		ldr	r3, .L60+28
 1341 0104 1B68     		ldr	r3, [r3]
 370:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1342              		.loc 1 370 36
 1343 0106 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1344 0108 02F03F02 		and	r2, r2, #63
 370:drivers/Src/stm32f767xx_i2c_driver.c **** 			
 1345              		.loc 1 370 22
 1346 010c 0121     		movs	r1, #1
 1347 010e 01FA02F2 		lsl	r2, r1, r2
 1348 0112 1146     		mov	r1, r2
 370:drivers/Src/stm32f767xx_i2c_driver.c **** 			
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 32


 1349              		.loc 1 370 16
 1350 0114 194A     		ldr	r2, .L60+28
 1351 0116 0B43     		orrs	r3, r3, r1
 1352 0118 1360     		str	r3, [r2]
 1353 011a 1AE0     		b	.L55
 1354              	.L58:
 372:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1355              		.loc 1 372 12
 1356 011c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1357 011e 5F2B     		cmp	r3, #95
 1358 0120 17D9     		bls	.L59
 372:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1359              		.loc 1 372 42 discriminator 1
 1360 0122 97F90730 		ldrsb	r3, [r7, #7]
 372:drivers/Src/stm32f767xx_i2c_driver.c **** 		{
 1361              		.loc 1 372 29 discriminator 1
 1362 0126 002B     		cmp	r3, #0
 1363 0128 13DB     		blt	.L59
 375:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1364              		.loc 1 375 16
 1365 012a 154B     		ldr	r3, .L60+32
 1366 012c 1868     		ldr	r0, [r3]
 375:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1367              		.loc 1 375 36
 1368 012e FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1369 0130 0F4B     		ldr	r3, .L60+16
 1370 0132 A3FB0213 		umull	r1, r3, r3, r2
 1371 0136 9909     		lsrs	r1, r3, #6
 1372 0138 0B46     		mov	r3, r1
 1373 013a 5B00     		lsls	r3, r3, #1
 1374 013c 0B44     		add	r3, r3, r1
 1375 013e 5B01     		lsls	r3, r3, #5
 1376 0140 D31A     		subs	r3, r2, r3
 1377 0142 DBB2     		uxtb	r3, r3
 1378 0144 1A46     		mov	r2, r3
 375:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1379              		.loc 1 375 22
 1380 0146 0123     		movs	r3, #1
 1381 0148 9340     		lsls	r3, r3, r2
 375:drivers/Src/stm32f767xx_i2c_driver.c **** 
 1382              		.loc 1 375 16
 1383 014a 0D4A     		ldr	r2, .L60+32
 1384 014c 0343     		orrs	r3, r3, r0
 1385 014e 1360     		str	r3, [r2]
 1386              		.loc 1 379 1
 1387 0150 FFE7     		b	.L59
 1388              	.L55:
 1389              	.L59:
 1390 0152 00BF     		nop
 1391 0154 0C37     		adds	r7, r7, #12
 1392              		.cfi_def_cfa_offset 4
 1393 0156 BD46     		mov	sp, r7
 1394              		.cfi_def_cfa_register 13
 1395              		@ sp needed
 1396 0158 5DF8047B 		ldr	r7, [sp], #4
 1397              		.cfi_restore 7
 1398              		.cfi_def_cfa_offset 0
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 33


 1399 015c 7047     		bx	lr
 1400              	.L61:
 1401 015e 00BF     		.align	2
 1402              	.L60:
 1403 0160 00E100E0 		.word	-536813312
 1404 0164 04E100E0 		.word	-536813308
 1405 0168 08E100E0 		.word	-536813304
 1406 016c 0CE100E0 		.word	-536813300
 1407 0170 ABAAAAAA 		.word	-1431655765
 1408 0174 80E100E0 		.word	-536813184
 1409 0178 84E100E0 		.word	-536813180
 1410 017c 88E100E0 		.word	-536813176
 1411 0180 8CE100E0 		.word	-536813172
 1412              		.cfi_endproc
 1413              	.LFE12:
 1415              		.section	.text.I2C_IRQPriorityConfig,"ax",%progbits
 1416              		.align	1
 1417              		.global	I2C_IRQPriorityConfig
 1418              		.syntax unified
 1419              		.thumb
 1420              		.thumb_func
 1422              	I2C_IRQPriorityConfig:
 1423              	.LFB13:
 380:drivers/Src/stm32f767xx_i2c_driver.c **** 
 381:drivers/Src/stm32f767xx_i2c_driver.c **** 
 382:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 383:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C IRQ Priority Configuration
 384:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 385:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param IRQNumber 
 386:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param IRQPriority 
 387:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 388:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_IRQPriorityConfig(uint8_t IRQNumber, uint32_t IRQPriority)
 389:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1424              		.loc 1 389 1
 1425              		.cfi_startproc
 1426              		@ args = 0, pretend = 0, frame = 16
 1427              		@ frame_needed = 1, uses_anonymous_args = 0
 1428              		@ link register save eliminated.
 1429 0000 80B4     		push	{r7}
 1430              		.cfi_def_cfa_offset 4
 1431              		.cfi_offset 7, -4
 1432 0002 85B0     		sub	sp, sp, #20
 1433              		.cfi_def_cfa_offset 24
 1434 0004 00AF     		add	r7, sp, #0
 1435              		.cfi_def_cfa_register 7
 1436 0006 0346     		mov	r3, r0
 1437 0008 3960     		str	r1, [r7]
 1438 000a FB71     		strb	r3, [r7, #7]
 390:drivers/Src/stm32f767xx_i2c_driver.c ****     	//1. first lets find out the ipr register
 391:drivers/Src/stm32f767xx_i2c_driver.c **** 	uint8_t iprx = IRQNumber / 4;
 1439              		.loc 1 391 10
 1440 000c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1441 000e 9B08     		lsrs	r3, r3, #2
 1442 0010 FB73     		strb	r3, [r7, #15]
 392:drivers/Src/stm32f767xx_i2c_driver.c **** 	uint8_t iprx_section  = IRQNumber % 4;
 1443              		.loc 1 392 10
 1444 0012 FB79     		ldrb	r3, [r7, #7]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 34


 1445 0014 03F00303 		and	r3, r3, #3
 1446 0018 BB73     		strb	r3, [r7, #14]
 393:drivers/Src/stm32f767xx_i2c_driver.c **** 	
 394:drivers/Src/stm32f767xx_i2c_driver.c **** 	// !! 16 programmable priority levels (4 bits of interrupt priority are used) Cf. RM 10.1
 395:drivers/Src/stm32f767xx_i2c_driver.c **** 	// only 4 MSBits are implemented!
 396:drivers/Src/stm32f767xx_i2c_driver.c **** 
 397:drivers/Src/stm32f767xx_i2c_driver.c **** 	uint8_t shift_amount = (8 * iprx_section) + (8 - NO_PR_BITS_IMPLEMENTED);
 1447              		.loc 1 397 44
 1448 001a BB7B     		ldrb	r3, [r7, #14]
 1449 001c DB00     		lsls	r3, r3, #3
 1450 001e DBB2     		uxtb	r3, r3
 1451              		.loc 1 397 10
 1452 0020 0433     		adds	r3, r3, #4
 1453 0022 7B73     		strb	r3, [r7, #13]
 398:drivers/Src/stm32f767xx_i2c_driver.c **** 	*(NVIC_PR_BASEADDR + iprx) |= (IRQPriority << shift_amount);
 1454              		.loc 1 398 29
 1455 0024 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1456 0026 9A00     		lsls	r2, r3, #2
 1457 0028 084B     		ldr	r3, .L63
 1458 002a 1344     		add	r3, r3, r2
 1459 002c 1968     		ldr	r1, [r3]
 1460              		.loc 1 398 45
 1461 002e 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 1462 0030 3A68     		ldr	r2, [r7]
 1463 0032 9A40     		lsls	r2, r2, r3
 1464              		.loc 1 398 29
 1465 0034 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1466 0036 9800     		lsls	r0, r3, #2
 1467 0038 044B     		ldr	r3, .L63
 1468 003a 0344     		add	r3, r3, r0
 1469 003c 0A43     		orrs	r2, r2, r1
 1470 003e 1A60     		str	r2, [r3]
 399:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1471              		.loc 1 399 1
 1472 0040 00BF     		nop
 1473 0042 1437     		adds	r7, r7, #20
 1474              		.cfi_def_cfa_offset 4
 1475 0044 BD46     		mov	sp, r7
 1476              		.cfi_def_cfa_register 13
 1477              		@ sp needed
 1478 0046 5DF8047B 		ldr	r7, [sp], #4
 1479              		.cfi_restore 7
 1480              		.cfi_def_cfa_offset 0
 1481 004a 7047     		bx	lr
 1482              	.L64:
 1483              		.align	2
 1484              	.L63:
 1485 004c 00E400E0 		.word	-536812544
 1486              		.cfi_endproc
 1487              	.LFE13:
 1489              		.section	.text.I2C_SlaveSendData,"ax",%progbits
 1490              		.align	1
 1491              		.global	I2C_SlaveSendData
 1492              		.syntax unified
 1493              		.thumb
 1494              		.thumb_func
 1496              	I2C_SlaveSendData:
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 35


 1497              	.LFB14:
 400:drivers/Src/stm32f767xx_i2c_driver.c **** 
 401:drivers/Src/stm32f767xx_i2c_driver.c **** 
 402:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 403:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief 
 404:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 405:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2Cx 
 406:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param data 
 407:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 408:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_SlaveSendData(I2C_RegDef_t *pI2Cx, uint8_t data)
 409:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1498              		.loc 1 409 1
 1499              		.cfi_startproc
 1500              		@ args = 0, pretend = 0, frame = 8
 1501              		@ frame_needed = 1, uses_anonymous_args = 0
 1502              		@ link register save eliminated.
 1503 0000 80B4     		push	{r7}
 1504              		.cfi_def_cfa_offset 4
 1505              		.cfi_offset 7, -4
 1506 0002 83B0     		sub	sp, sp, #12
 1507              		.cfi_def_cfa_offset 16
 1508 0004 00AF     		add	r7, sp, #0
 1509              		.cfi_def_cfa_register 7
 1510 0006 7860     		str	r0, [r7, #4]
 1511 0008 0B46     		mov	r3, r1
 1512 000a FB70     		strb	r3, [r7, #3]
 410:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2Cx->TXDR = data;
 1513              		.loc 1 410 17
 1514 000c FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1515 000e 7B68     		ldr	r3, [r7, #4]
 1516 0010 9A62     		str	r2, [r3, #40]
 411:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1517              		.loc 1 411 1
 1518 0012 00BF     		nop
 1519 0014 0C37     		adds	r7, r7, #12
 1520              		.cfi_def_cfa_offset 4
 1521 0016 BD46     		mov	sp, r7
 1522              		.cfi_def_cfa_register 13
 1523              		@ sp needed
 1524 0018 5DF8047B 		ldr	r7, [sp], #4
 1525              		.cfi_restore 7
 1526              		.cfi_def_cfa_offset 0
 1527 001c 7047     		bx	lr
 1528              		.cfi_endproc
 1529              	.LFE14:
 1531              		.section	.text.I2C_SlaveReceiveData,"ax",%progbits
 1532              		.align	1
 1533              		.global	I2C_SlaveReceiveData
 1534              		.syntax unified
 1535              		.thumb
 1536              		.thumb_func
 1538              	I2C_SlaveReceiveData:
 1539              	.LFB15:
 412:drivers/Src/stm32f767xx_i2c_driver.c **** 
 413:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 414:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief 
 415:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 36


 416:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2Cx 
 417:drivers/Src/stm32f767xx_i2c_driver.c ****  * @return uint8_t 
 418:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 419:drivers/Src/stm32f767xx_i2c_driver.c **** uint8_t I2C_SlaveReceiveData(I2C_RegDef_t *pI2Cx)
 420:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1540              		.loc 1 420 1
 1541              		.cfi_startproc
 1542              		@ args = 0, pretend = 0, frame = 8
 1543              		@ frame_needed = 1, uses_anonymous_args = 0
 1544              		@ link register save eliminated.
 1545 0000 80B4     		push	{r7}
 1546              		.cfi_def_cfa_offset 4
 1547              		.cfi_offset 7, -4
 1548 0002 83B0     		sub	sp, sp, #12
 1549              		.cfi_def_cfa_offset 16
 1550 0004 00AF     		add	r7, sp, #0
 1551              		.cfi_def_cfa_register 7
 1552 0006 7860     		str	r0, [r7, #4]
 421:drivers/Src/stm32f767xx_i2c_driver.c ****     return (uint8_t)pI2Cx->RXDR;
 1553              		.loc 1 421 26
 1554 0008 7B68     		ldr	r3, [r7, #4]
 1555 000a 5B6A     		ldr	r3, [r3, #36]
 1556              		.loc 1 421 12
 1557 000c DBB2     		uxtb	r3, r3
 422:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1558              		.loc 1 422 1
 1559 000e 1846     		mov	r0, r3
 1560 0010 0C37     		adds	r7, r7, #12
 1561              		.cfi_def_cfa_offset 4
 1562 0012 BD46     		mov	sp, r7
 1563              		.cfi_def_cfa_register 13
 1564              		@ sp needed
 1565 0014 5DF8047B 		ldr	r7, [sp], #4
 1566              		.cfi_restore 7
 1567              		.cfi_def_cfa_offset 0
 1568 0018 7047     		bx	lr
 1569              		.cfi_endproc
 1570              	.LFE15:
 1572              		.section	.text.I2C_MasterSendDataIT,"ax",%progbits
 1573              		.align	1
 1574              		.global	I2C_MasterSendDataIT
 1575              		.syntax unified
 1576              		.thumb
 1577              		.thumb_func
 1579              	I2C_MasterSendDataIT:
 1580              	.LFB16:
 423:drivers/Src/stm32f767xx_i2c_driver.c **** 
 424:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 425:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C Interrupt based Master Mode Send Data
 426:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 427:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2CHandle 
 428:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pTxbuffer 
 429:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param Len 
 430:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param SlaveAddr 
 431:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param Sr 
 432:drivers/Src/stm32f767xx_i2c_driver.c ****  * @return uint8_t
 433:drivers/Src/stm32f767xx_i2c_driver.c ****  */
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 37


 434:drivers/Src/stm32f767xx_i2c_driver.c **** uint8_t I2C_MasterSendDataIT(I2C_Handle_t *pI2CHandle,uint8_t *pTxBuffer, uint32_t Len, uint8_t Sla
 435:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1581              		.loc 1 435 1
 1582              		.cfi_startproc
 1583              		@ args = 4, pretend = 0, frame = 24
 1584              		@ frame_needed = 1, uses_anonymous_args = 0
 1585 0000 80B5     		push	{r7, lr}
 1586              		.cfi_def_cfa_offset 8
 1587              		.cfi_offset 7, -8
 1588              		.cfi_offset 14, -4
 1589 0002 86B0     		sub	sp, sp, #24
 1590              		.cfi_def_cfa_offset 32
 1591 0004 00AF     		add	r7, sp, #0
 1592              		.cfi_def_cfa_register 7
 1593 0006 F860     		str	r0, [r7, #12]
 1594 0008 B960     		str	r1, [r7, #8]
 1595 000a 7A60     		str	r2, [r7, #4]
 1596 000c FB70     		strb	r3, [r7, #3]
 436:drivers/Src/stm32f767xx_i2c_driver.c ****     uint8_t busystate = pI2CHandle->TxRxState;
 1597              		.loc 1 436 13
 1598 000e FB68     		ldr	r3, [r7, #12]
 1599 0010 1B7F     		ldrb	r3, [r3, #28]
 1600 0012 FB75     		strb	r3, [r7, #23]
 437:drivers/Src/stm32f767xx_i2c_driver.c **** 
 438:drivers/Src/stm32f767xx_i2c_driver.c **** 	if( (busystate != I2C_BUSY_IN_TX) && (busystate != I2C_BUSY_IN_RX))
 1601              		.loc 1 438 4
 1602 0014 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1603 0016 022B     		cmp	r3, #2
 1604 0018 55D0     		beq	.L69
 1605              		.loc 1 438 36 discriminator 1
 1606 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1607 001c 012B     		cmp	r3, #1
 1608 001e 52D0     		beq	.L69
 439:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 440:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->pTxBuffer = pTxBuffer;
 1609              		.loc 1 440 25
 1610 0020 FB68     		ldr	r3, [r7, #12]
 1611 0022 BA68     		ldr	r2, [r7, #8]
 1612 0024 DA60     		str	r2, [r3, #12]
 441:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->TxLen = Len;
 1613              		.loc 1 441 21
 1614 0026 FB68     		ldr	r3, [r7, #12]
 1615 0028 7A68     		ldr	r2, [r7, #4]
 1616 002a 5A61     		str	r2, [r3, #20]
 442:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->TxRxState = I2C_BUSY_IN_TX;
 1617              		.loc 1 442 25
 1618 002c FB68     		ldr	r3, [r7, #12]
 1619 002e 0222     		movs	r2, #2
 1620 0030 1A77     		strb	r2, [r3, #28]
 443:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->DevAddr = SlaveAddr;
 1621              		.loc 1 443 23
 1622 0032 FB68     		ldr	r3, [r7, #12]
 1623 0034 FA78     		ldrb	r2, [r7, #3]
 1624 0036 5A77     		strb	r2, [r3, #29]
 444:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->Mode = I2C_MODE_MASTER;
 1625              		.loc 1 444 26
 1626 0038 FB68     		ldr	r3, [r7, #12]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 38


 1627 003a 0122     		movs	r2, #1
 1628 003c 9A77     		strb	r2, [r3, #30]
 445:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->Sr = Sr;
 1629              		.loc 1 445 24
 1630 003e FB68     		ldr	r3, [r7, #12]
 1631 0040 97F82020 		ldrb	r2, [r7, #32]
 1632 0044 83F82420 		strb	r2, [r3, #36]
 446:drivers/Src/stm32f767xx_i2c_driver.c **** 
 447:drivers/Src/stm32f767xx_i2c_driver.c ****         // Send the address of the slave with r/nw bit set to w(0) (total 8 bits )
 448:drivers/Src/stm32f767xx_i2c_driver.c **** 	    I2C_ExecuteAddressPhaseWrite(pI2CHandle->pI2Cx,pI2CHandle->DevAddr);
 1633              		.loc 1 448 6
 1634 0048 FB68     		ldr	r3, [r7, #12]
 1635 004a 1A68     		ldr	r2, [r3]
 1636 004c FB68     		ldr	r3, [r7, #12]
 1637 004e 5B7F     		ldrb	r3, [r3, #29]	@ zero_extendqisi2
 1638 0050 1946     		mov	r1, r3
 1639 0052 1046     		mov	r0, r2
 1640 0054 FFF7FEFF 		bl	I2C_ExecuteAddressPhaseWrite
 449:drivers/Src/stm32f767xx_i2c_driver.c **** 
 450:drivers/Src/stm32f767xx_i2c_driver.c ****         // Set autoend to 0, and length of data to be transmitted
 451:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR2 &= ~(1 << I2C_CR2_AUTOEND);  //software end mode: TC flag is set whe
 1641              		.loc 1 451 19
 1642 0058 FB68     		ldr	r3, [r7, #12]
 1643 005a 1B68     		ldr	r3, [r3]
 1644              		.loc 1 451 32
 1645 005c 5A68     		ldr	r2, [r3, #4]
 1646              		.loc 1 451 19
 1647 005e FB68     		ldr	r3, [r7, #12]
 1648 0060 1B68     		ldr	r3, [r3]
 1649              		.loc 1 451 32
 1650 0062 22F00072 		bic	r2, r2, #33554432
 1651 0066 5A60     		str	r2, [r3, #4]
 452:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR2 |= (pI2CHandle->TxLen << I2C_CR2_NBYTES);  //number of bytes to be t
 1652              		.loc 1 452 19
 1653 0068 FB68     		ldr	r3, [r7, #12]
 1654 006a 1B68     		ldr	r3, [r3]
 1655              		.loc 1 452 32
 1656 006c 5968     		ldr	r1, [r3, #4]
 1657              		.loc 1 452 46
 1658 006e FB68     		ldr	r3, [r7, #12]
 1659 0070 5B69     		ldr	r3, [r3, #20]
 1660              		.loc 1 452 54
 1661 0072 1A04     		lsls	r2, r3, #16
 1662              		.loc 1 452 19
 1663 0074 FB68     		ldr	r3, [r7, #12]
 1664 0076 1B68     		ldr	r3, [r3]
 1665              		.loc 1 452 32
 1666 0078 0A43     		orrs	r2, r2, r1
 1667 007a 5A60     		str	r2, [r3, #4]
 453:drivers/Src/stm32f767xx_i2c_driver.c **** 
 454:drivers/Src/stm32f767xx_i2c_driver.c ****         //Generate START Condition
 455:drivers/Src/stm32f767xx_i2c_driver.c **** 		I2C_GenerateStartCondition(pI2CHandle->pI2Cx);
 1668              		.loc 1 455 3
 1669 007c FB68     		ldr	r3, [r7, #12]
 1670 007e 1B68     		ldr	r3, [r3]
 1671 0080 1846     		mov	r0, r3
 1672 0082 FFF7FEFF 		bl	I2C_GenerateStartCondition
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 39


 456:drivers/Src/stm32f767xx_i2c_driver.c **** 
 457:drivers/Src/stm32f767xx_i2c_driver.c ****         //enable TXIE, TCIE, STOPIE Control Bits
 458:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_TXIE);
 1673              		.loc 1 458 13
 1674 0086 FB68     		ldr	r3, [r7, #12]
 1675 0088 1B68     		ldr	r3, [r3]
 1676              		.loc 1 458 26
 1677 008a 1A68     		ldr	r2, [r3]
 1678              		.loc 1 458 13
 1679 008c FB68     		ldr	r3, [r7, #12]
 1680 008e 1B68     		ldr	r3, [r3]
 1681              		.loc 1 458 26
 1682 0090 42F00202 		orr	r2, r2, #2
 1683 0094 1A60     		str	r2, [r3]
 459:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_TCIE);
 1684              		.loc 1 459 19
 1685 0096 FB68     		ldr	r3, [r7, #12]
 1686 0098 1B68     		ldr	r3, [r3]
 1687              		.loc 1 459 32
 1688 009a 1A68     		ldr	r2, [r3]
 1689              		.loc 1 459 19
 1690 009c FB68     		ldr	r3, [r7, #12]
 1691 009e 1B68     		ldr	r3, [r3]
 1692              		.loc 1 459 32
 1693 00a0 42F04002 		orr	r2, r2, #64
 1694 00a4 1A60     		str	r2, [r3]
 460:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_STOPIE);
 1695              		.loc 1 460 19
 1696 00a6 FB68     		ldr	r3, [r7, #12]
 1697 00a8 1B68     		ldr	r3, [r3]
 1698              		.loc 1 460 32
 1699 00aa 1A68     		ldr	r2, [r3]
 1700              		.loc 1 460 19
 1701 00ac FB68     		ldr	r3, [r7, #12]
 1702 00ae 1B68     		ldr	r3, [r3]
 1703              		.loc 1 460 32
 1704 00b0 42F02002 		orr	r2, r2, #32
 1705 00b4 1A60     		str	r2, [r3]
 461:drivers/Src/stm32f767xx_i2c_driver.c **** 
 462:drivers/Src/stm32f767xx_i2c_driver.c ****         //enable ERRIE Control Bit
 463:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_ERRIE);
 1706              		.loc 1 463 13
 1707 00b6 FB68     		ldr	r3, [r7, #12]
 1708 00b8 1B68     		ldr	r3, [r3]
 1709              		.loc 1 463 26
 1710 00ba 1A68     		ldr	r2, [r3]
 1711              		.loc 1 463 13
 1712 00bc FB68     		ldr	r3, [r7, #12]
 1713 00be 1B68     		ldr	r3, [r3]
 1714              		.loc 1 463 26
 1715 00c0 42F08002 		orr	r2, r2, #128
 1716 00c4 1A60     		str	r2, [r3]
 1717              	.L69:
 464:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 465:drivers/Src/stm32f767xx_i2c_driver.c **** 
 466:drivers/Src/stm32f767xx_i2c_driver.c **** 	return busystate;
 1718              		.loc 1 466 9
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 40


 1719 00c6 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 467:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1720              		.loc 1 467 1
 1721 00c8 1846     		mov	r0, r3
 1722 00ca 1837     		adds	r7, r7, #24
 1723              		.cfi_def_cfa_offset 8
 1724 00cc BD46     		mov	sp, r7
 1725              		.cfi_def_cfa_register 13
 1726              		@ sp needed
 1727 00ce 80BD     		pop	{r7, pc}
 1728              		.cfi_endproc
 1729              	.LFE16:
 1731              		.section	.text.I2C_MasterReceiveDataIT,"ax",%progbits
 1732              		.align	1
 1733              		.global	I2C_MasterReceiveDataIT
 1734              		.syntax unified
 1735              		.thumb
 1736              		.thumb_func
 1738              	I2C_MasterReceiveDataIT:
 1739              	.LFB17:
 468:drivers/Src/stm32f767xx_i2c_driver.c **** 
 469:drivers/Src/stm32f767xx_i2c_driver.c **** 
 470:drivers/Src/stm32f767xx_i2c_driver.c **** 
 471:drivers/Src/stm32f767xx_i2c_driver.c **** 
 472:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 473:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C Interrupt based Master Mode Receive Data
 474:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 475:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2CHandle 
 476:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pRxBuffer 
 477:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param Len 
 478:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param SlaveAddr 
 479:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param Sr 
 480:drivers/Src/stm32f767xx_i2c_driver.c ****  * @return uint8_t 
 481:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 482:drivers/Src/stm32f767xx_i2c_driver.c **** uint8_t I2C_MasterReceiveDataIT(I2C_Handle_t *pI2CHandle, uint8_t *pRxBuffer, uint8_t Len, uint8_t 
 483:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1740              		.loc 1 483 1
 1741              		.cfi_startproc
 1742              		@ args = 4, pretend = 0, frame = 24
 1743              		@ frame_needed = 1, uses_anonymous_args = 0
 1744 0000 80B5     		push	{r7, lr}
 1745              		.cfi_def_cfa_offset 8
 1746              		.cfi_offset 7, -8
 1747              		.cfi_offset 14, -4
 1748 0002 86B0     		sub	sp, sp, #24
 1749              		.cfi_def_cfa_offset 32
 1750 0004 00AF     		add	r7, sp, #0
 1751              		.cfi_def_cfa_register 7
 1752 0006 F860     		str	r0, [r7, #12]
 1753 0008 B960     		str	r1, [r7, #8]
 1754 000a 1146     		mov	r1, r2
 1755 000c 1A46     		mov	r2, r3
 1756 000e 0B46     		mov	r3, r1
 1757 0010 FB71     		strb	r3, [r7, #7]
 1758 0012 1346     		mov	r3, r2
 1759 0014 BB71     		strb	r3, [r7, #6]
 484:drivers/Src/stm32f767xx_i2c_driver.c ****         uint8_t busystate = pI2CHandle->TxRxState;
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 41


 1760              		.loc 1 484 17
 1761 0016 FB68     		ldr	r3, [r7, #12]
 1762 0018 1B7F     		ldrb	r3, [r3, #28]
 1763 001a FB75     		strb	r3, [r7, #23]
 485:drivers/Src/stm32f767xx_i2c_driver.c **** 
 486:drivers/Src/stm32f767xx_i2c_driver.c **** 	if( (busystate != I2C_BUSY_IN_TX) && (busystate != I2C_BUSY_IN_RX))
 1764              		.loc 1 486 4
 1765 001c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1766 001e 022B     		cmp	r3, #2
 1767 0020 58D0     		beq	.L72
 1768              		.loc 1 486 36 discriminator 1
 1769 0022 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1770 0024 012B     		cmp	r3, #1
 1771 0026 55D0     		beq	.L72
 487:drivers/Src/stm32f767xx_i2c_driver.c **** 	{
 488:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->pRxBuffer = pRxBuffer;
 1772              		.loc 1 488 25
 1773 0028 FB68     		ldr	r3, [r7, #12]
 1774 002a BA68     		ldr	r2, [r7, #8]
 1775 002c 1A61     		str	r2, [r3, #16]
 489:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->RxLen = Len;
 1776              		.loc 1 489 21
 1777 002e FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1778 0030 FB68     		ldr	r3, [r7, #12]
 1779 0032 9A61     		str	r2, [r3, #24]
 490:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->TxRxState = I2C_BUSY_IN_RX;
 1780              		.loc 1 490 25
 1781 0034 FB68     		ldr	r3, [r7, #12]
 1782 0036 0122     		movs	r2, #1
 1783 0038 1A77     		strb	r2, [r3, #28]
 491:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->RxSize = Len;
 1784              		.loc 1 491 22
 1785 003a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1786 003c FB68     		ldr	r3, [r7, #12]
 1787 003e 1A62     		str	r2, [r3, #32]
 492:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->DevAddr = SlaveAddr;
 1788              		.loc 1 492 23
 1789 0040 FB68     		ldr	r3, [r7, #12]
 1790 0042 BA79     		ldrb	r2, [r7, #6]
 1791 0044 5A77     		strb	r2, [r3, #29]
 493:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->Mode = I2C_MODE_MASTER;
 1792              		.loc 1 493 26
 1793 0046 FB68     		ldr	r3, [r7, #12]
 1794 0048 0122     		movs	r2, #1
 1795 004a 9A77     		strb	r2, [r3, #30]
 494:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->Sr = Sr;
 1796              		.loc 1 494 18
 1797 004c FB68     		ldr	r3, [r7, #12]
 1798 004e 97F82020 		ldrb	r2, [r7, #32]
 1799 0052 83F82420 		strb	r2, [r3, #36]
 495:drivers/Src/stm32f767xx_i2c_driver.c **** 
 496:drivers/Src/stm32f767xx_i2c_driver.c ****         // Send the address of the slave with r/nw bit set to r(1) (total 8 bits )
 497:drivers/Src/stm32f767xx_i2c_driver.c **** 	    I2C_ExecuteAddressPhaseRead(pI2CHandle->pI2Cx,pI2CHandle->DevAddr);
 1800              		.loc 1 497 6
 1801 0056 FB68     		ldr	r3, [r7, #12]
 1802 0058 1A68     		ldr	r2, [r3]
 1803 005a FB68     		ldr	r3, [r7, #12]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 42


 1804 005c 5B7F     		ldrb	r3, [r3, #29]	@ zero_extendqisi2
 1805 005e 1946     		mov	r1, r3
 1806 0060 1046     		mov	r0, r2
 1807 0062 FFF7FEFF 		bl	I2C_ExecuteAddressPhaseRead
 498:drivers/Src/stm32f767xx_i2c_driver.c **** 
 499:drivers/Src/stm32f767xx_i2c_driver.c ****         // Set autoend to 0, and length of data to be received
 500:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR2 &= ~(1 << I2C_CR2_AUTOEND);  //software end mode: TC flag is set whe
 1808              		.loc 1 500 19
 1809 0066 FB68     		ldr	r3, [r7, #12]
 1810 0068 1B68     		ldr	r3, [r3]
 1811              		.loc 1 500 32
 1812 006a 5A68     		ldr	r2, [r3, #4]
 1813              		.loc 1 500 19
 1814 006c FB68     		ldr	r3, [r7, #12]
 1815 006e 1B68     		ldr	r3, [r3]
 1816              		.loc 1 500 32
 1817 0070 22F00072 		bic	r2, r2, #33554432
 1818 0074 5A60     		str	r2, [r3, #4]
 501:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR2 |= (Len << I2C_CR2_NBYTES);  //number of bytes to be received
 1819              		.loc 1 501 19
 1820 0076 FB68     		ldr	r3, [r7, #12]
 1821 0078 1B68     		ldr	r3, [r3]
 1822              		.loc 1 501 32
 1823 007a 5A68     		ldr	r2, [r3, #4]
 1824              		.loc 1 501 40
 1825 007c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1826 007e 1B04     		lsls	r3, r3, #16
 1827 0080 1946     		mov	r1, r3
 1828              		.loc 1 501 19
 1829 0082 FB68     		ldr	r3, [r7, #12]
 1830 0084 1B68     		ldr	r3, [r3]
 1831              		.loc 1 501 32
 1832 0086 0A43     		orrs	r2, r2, r1
 1833 0088 5A60     		str	r2, [r3, #4]
 502:drivers/Src/stm32f767xx_i2c_driver.c **** 
 503:drivers/Src/stm32f767xx_i2c_driver.c ****         //Generate START Condition
 504:drivers/Src/stm32f767xx_i2c_driver.c **** 		I2C_GenerateStartCondition(pI2CHandle->pI2Cx);
 1834              		.loc 1 504 3
 1835 008a FB68     		ldr	r3, [r7, #12]
 1836 008c 1B68     		ldr	r3, [r3]
 1837 008e 1846     		mov	r0, r3
 1838 0090 FFF7FEFF 		bl	I2C_GenerateStartCondition
 505:drivers/Src/stm32f767xx_i2c_driver.c **** 
 506:drivers/Src/stm32f767xx_i2c_driver.c ****         //enable RXIE, STOPIE, TCIE Control Bits
 507:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_RXIE);
 1839              		.loc 1 507 13
 1840 0094 FB68     		ldr	r3, [r7, #12]
 1841 0096 1B68     		ldr	r3, [r3]
 1842              		.loc 1 507 26
 1843 0098 1A68     		ldr	r2, [r3]
 1844              		.loc 1 507 13
 1845 009a FB68     		ldr	r3, [r7, #12]
 1846 009c 1B68     		ldr	r3, [r3]
 1847              		.loc 1 507 26
 1848 009e 42F00402 		orr	r2, r2, #4
 1849 00a2 1A60     		str	r2, [r3]
 508:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_STOPIE);
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 43


 1850              		.loc 1 508 19
 1851 00a4 FB68     		ldr	r3, [r7, #12]
 1852 00a6 1B68     		ldr	r3, [r3]
 1853              		.loc 1 508 32
 1854 00a8 1A68     		ldr	r2, [r3]
 1855              		.loc 1 508 19
 1856 00aa FB68     		ldr	r3, [r7, #12]
 1857 00ac 1B68     		ldr	r3, [r3]
 1858              		.loc 1 508 32
 1859 00ae 42F02002 		orr	r2, r2, #32
 1860 00b2 1A60     		str	r2, [r3]
 509:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_TCIE);
 1861              		.loc 1 509 19
 1862 00b4 FB68     		ldr	r3, [r7, #12]
 1863 00b6 1B68     		ldr	r3, [r3]
 1864              		.loc 1 509 32
 1865 00b8 1A68     		ldr	r2, [r3]
 1866              		.loc 1 509 19
 1867 00ba FB68     		ldr	r3, [r7, #12]
 1868 00bc 1B68     		ldr	r3, [r3]
 1869              		.loc 1 509 32
 1870 00be 42F04002 		orr	r2, r2, #64
 1871 00c2 1A60     		str	r2, [r3]
 510:drivers/Src/stm32f767xx_i2c_driver.c **** 
 511:drivers/Src/stm32f767xx_i2c_driver.c **** 		//enable ERRIE Control Bit
 512:drivers/Src/stm32f767xx_i2c_driver.c **** 		pI2CHandle->pI2Cx->CR1 |= ( 1 << I2C_CR1_ERRIE);
 1872              		.loc 1 512 13
 1873 00c4 FB68     		ldr	r3, [r7, #12]
 1874 00c6 1B68     		ldr	r3, [r3]
 1875              		.loc 1 512 26
 1876 00c8 1A68     		ldr	r2, [r3]
 1877              		.loc 1 512 13
 1878 00ca FB68     		ldr	r3, [r7, #12]
 1879 00cc 1B68     		ldr	r3, [r3]
 1880              		.loc 1 512 26
 1881 00ce 42F08002 		orr	r2, r2, #128
 1882 00d2 1A60     		str	r2, [r3]
 1883              	.L72:
 513:drivers/Src/stm32f767xx_i2c_driver.c **** 
 514:drivers/Src/stm32f767xx_i2c_driver.c **** 	}
 515:drivers/Src/stm32f767xx_i2c_driver.c **** 
 516:drivers/Src/stm32f767xx_i2c_driver.c **** 	return busystate;
 1884              		.loc 1 516 9
 1885 00d4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 517:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1886              		.loc 1 517 1
 1887 00d6 1846     		mov	r0, r3
 1888 00d8 1837     		adds	r7, r7, #24
 1889              		.cfi_def_cfa_offset 8
 1890 00da BD46     		mov	sp, r7
 1891              		.cfi_def_cfa_register 13
 1892              		@ sp needed
 1893 00dc 80BD     		pop	{r7, pc}
 1894              		.cfi_endproc
 1895              	.LFE17:
 1897              		.section	.text.I2C_CloseSendData,"ax",%progbits
 1898              		.align	1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 44


 1899              		.global	I2C_CloseSendData
 1900              		.syntax unified
 1901              		.thumb
 1902              		.thumb_func
 1904              	I2C_CloseSendData:
 1905              	.LFB18:
 518:drivers/Src/stm32f767xx_i2c_driver.c **** 
 519:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_CloseSendData(I2C_Handle_t *pI2CHandle)
 520:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1906              		.loc 1 520 1
 1907              		.cfi_startproc
 1908              		@ args = 0, pretend = 0, frame = 8
 1909              		@ frame_needed = 1, uses_anonymous_args = 0
 1910              		@ link register save eliminated.
 1911 0000 80B4     		push	{r7}
 1912              		.cfi_def_cfa_offset 4
 1913              		.cfi_offset 7, -4
 1914 0002 83B0     		sub	sp, sp, #12
 1915              		.cfi_def_cfa_offset 16
 1916 0004 00AF     		add	r7, sp, #0
 1917              		.cfi_def_cfa_register 7
 1918 0006 7860     		str	r0, [r7, #4]
 521:drivers/Src/stm32f767xx_i2c_driver.c ****     //disable TXIE, STOPIE, TCIE Control Bits
 522:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR1 &= ~( 1 << I2C_CR1_TXIE);
 1919              		.loc 1 522 15
 1920 0008 7B68     		ldr	r3, [r7, #4]
 1921 000a 1B68     		ldr	r3, [r3]
 1922              		.loc 1 522 28
 1923 000c 1A68     		ldr	r2, [r3]
 1924              		.loc 1 522 15
 1925 000e 7B68     		ldr	r3, [r7, #4]
 1926 0010 1B68     		ldr	r3, [r3]
 1927              		.loc 1 522 28
 1928 0012 22F00202 		bic	r2, r2, #2
 1929 0016 1A60     		str	r2, [r3]
 523:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR1 &= ~( 1 << I2C_CR1_STOPIE);
 1930              		.loc 1 523 15
 1931 0018 7B68     		ldr	r3, [r7, #4]
 1932 001a 1B68     		ldr	r3, [r3]
 1933              		.loc 1 523 28
 1934 001c 1A68     		ldr	r2, [r3]
 1935              		.loc 1 523 15
 1936 001e 7B68     		ldr	r3, [r7, #4]
 1937 0020 1B68     		ldr	r3, [r3]
 1938              		.loc 1 523 28
 1939 0022 22F02002 		bic	r2, r2, #32
 1940 0026 1A60     		str	r2, [r3]
 524:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR1 &= ~( 1 << I2C_CR1_TCIE);
 1941              		.loc 1 524 15
 1942 0028 7B68     		ldr	r3, [r7, #4]
 1943 002a 1B68     		ldr	r3, [r3]
 1944              		.loc 1 524 28
 1945 002c 1A68     		ldr	r2, [r3]
 1946              		.loc 1 524 15
 1947 002e 7B68     		ldr	r3, [r7, #4]
 1948 0030 1B68     		ldr	r3, [r3]
 1949              		.loc 1 524 28
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 45


 1950 0032 22F04002 		bic	r2, r2, #64
 1951 0036 1A60     		str	r2, [r3]
 525:drivers/Src/stm32f767xx_i2c_driver.c **** 
 526:drivers/Src/stm32f767xx_i2c_driver.c **** 	pI2CHandle->TxRxState = I2C_READY;
 1952              		.loc 1 526 24
 1953 0038 7B68     		ldr	r3, [r7, #4]
 1954 003a 0022     		movs	r2, #0
 1955 003c 1A77     		strb	r2, [r3, #28]
 527:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pTxBuffer = NULL;
 1956              		.loc 1 527 27
 1957 003e 7B68     		ldr	r3, [r7, #4]
 1958 0040 0022     		movs	r2, #0
 1959 0042 DA60     		str	r2, [r3, #12]
 528:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->TxLen = 0;
 1960              		.loc 1 528 23
 1961 0044 7B68     		ldr	r3, [r7, #4]
 1962 0046 0022     		movs	r2, #0
 1963 0048 5A61     		str	r2, [r3, #20]
 529:drivers/Src/stm32f767xx_i2c_driver.c **** 
 530:drivers/Src/stm32f767xx_i2c_driver.c ****     //pI2CHandle->pI2Cx->CR2 = 0x0; // clear CR2 register
 531:drivers/Src/stm32f767xx_i2c_driver.c **** }
 1964              		.loc 1 531 1
 1965 004a 00BF     		nop
 1966 004c 0C37     		adds	r7, r7, #12
 1967              		.cfi_def_cfa_offset 4
 1968 004e BD46     		mov	sp, r7
 1969              		.cfi_def_cfa_register 13
 1970              		@ sp needed
 1971 0050 5DF8047B 		ldr	r7, [sp], #4
 1972              		.cfi_restore 7
 1973              		.cfi_def_cfa_offset 0
 1974 0054 7047     		bx	lr
 1975              		.cfi_endproc
 1976              	.LFE18:
 1978              		.section	.text.I2C_CloseReceiveData,"ax",%progbits
 1979              		.align	1
 1980              		.global	I2C_CloseReceiveData
 1981              		.syntax unified
 1982              		.thumb
 1983              		.thumb_func
 1985              	I2C_CloseReceiveData:
 1986              	.LFB19:
 532:drivers/Src/stm32f767xx_i2c_driver.c **** 
 533:drivers/Src/stm32f767xx_i2c_driver.c **** 
 534:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_CloseReceiveData(I2C_Handle_t *pI2CHandle)
 535:drivers/Src/stm32f767xx_i2c_driver.c **** {
 1987              		.loc 1 535 1
 1988              		.cfi_startproc
 1989              		@ args = 0, pretend = 0, frame = 8
 1990              		@ frame_needed = 1, uses_anonymous_args = 0
 1991              		@ link register save eliminated.
 1992 0000 80B4     		push	{r7}
 1993              		.cfi_def_cfa_offset 4
 1994              		.cfi_offset 7, -4
 1995 0002 83B0     		sub	sp, sp, #12
 1996              		.cfi_def_cfa_offset 16
 1997 0004 00AF     		add	r7, sp, #0
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 46


 1998              		.cfi_def_cfa_register 7
 1999 0006 7860     		str	r0, [r7, #4]
 536:drivers/Src/stm32f767xx_i2c_driver.c ****     //disable RXIE, STOPIE, TCIE, NACKIE Control Bits
 537:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR1 &= ~( 1 << I2C_CR1_RXIE);
 2000              		.loc 1 537 15
 2001 0008 7B68     		ldr	r3, [r7, #4]
 2002 000a 1B68     		ldr	r3, [r3]
 2003              		.loc 1 537 28
 2004 000c 1A68     		ldr	r2, [r3]
 2005              		.loc 1 537 15
 2006 000e 7B68     		ldr	r3, [r7, #4]
 2007 0010 1B68     		ldr	r3, [r3]
 2008              		.loc 1 537 28
 2009 0012 22F00402 		bic	r2, r2, #4
 2010 0016 1A60     		str	r2, [r3]
 538:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR1 &= ~( 1 << I2C_CR1_STOPIE);
 2011              		.loc 1 538 15
 2012 0018 7B68     		ldr	r3, [r7, #4]
 2013 001a 1B68     		ldr	r3, [r3]
 2014              		.loc 1 538 28
 2015 001c 1A68     		ldr	r2, [r3]
 2016              		.loc 1 538 15
 2017 001e 7B68     		ldr	r3, [r7, #4]
 2018 0020 1B68     		ldr	r3, [r3]
 2019              		.loc 1 538 28
 2020 0022 22F02002 		bic	r2, r2, #32
 2021 0026 1A60     		str	r2, [r3]
 539:drivers/Src/stm32f767xx_i2c_driver.c ****     pI2CHandle->pI2Cx->CR1 &= ~( 1 << I2C_CR1_TCIE);
 2022              		.loc 1 539 15
 2023 0028 7B68     		ldr	r3, [r7, #4]
 2024 002a 1B68     		ldr	r3, [r3]
 2025              		.loc 1 539 28
 2026 002c 1A68     		ldr	r2, [r3]
 2027              		.loc 1 539 15
 2028 002e 7B68     		ldr	r3, [r7, #4]
 2029 0030 1B68     		ldr	r3, [r3]
 2030              		.loc 1 539 28
 2031 0032 22F04002 		bic	r2, r2, #64
 2032 0036 1A60     		str	r2, [r3]
 540:drivers/Src/stm32f767xx_i2c_driver.c **** 
 541:drivers/Src/stm32f767xx_i2c_driver.c **** 	pI2CHandle->TxRxState = I2C_READY;
 2033              		.loc 1 541 24
 2034 0038 7B68     		ldr	r3, [r7, #4]
 2035 003a 0022     		movs	r2, #0
 2036 003c 1A77     		strb	r2, [r3, #28]
 542:drivers/Src/stm32f767xx_i2c_driver.c **** 	pI2CHandle->pRxBuffer = NULL;
 2037              		.loc 1 542 24
 2038 003e 7B68     		ldr	r3, [r7, #4]
 2039 0040 0022     		movs	r2, #0
 2040 0042 1A61     		str	r2, [r3, #16]
 543:drivers/Src/stm32f767xx_i2c_driver.c **** 	pI2CHandle->RxLen = 0;
 2041              		.loc 1 543 20
 2042 0044 7B68     		ldr	r3, [r7, #4]
 2043 0046 0022     		movs	r2, #0
 2044 0048 9A61     		str	r2, [r3, #24]
 544:drivers/Src/stm32f767xx_i2c_driver.c **** 	pI2CHandle->RxSize = 0;
 2045              		.loc 1 544 21
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 47


 2046 004a 7B68     		ldr	r3, [r7, #4]
 2047 004c 0022     		movs	r2, #0
 2048 004e 1A62     		str	r2, [r3, #32]
 545:drivers/Src/stm32f767xx_i2c_driver.c **** 
 546:drivers/Src/stm32f767xx_i2c_driver.c ****     //pI2CHandle->pI2Cx->CR2 = 0x0; // clear CR2 register
 547:drivers/Src/stm32f767xx_i2c_driver.c **** }
 2049              		.loc 1 547 1
 2050 0050 00BF     		nop
 2051 0052 0C37     		adds	r7, r7, #12
 2052              		.cfi_def_cfa_offset 4
 2053 0054 BD46     		mov	sp, r7
 2054              		.cfi_def_cfa_register 13
 2055              		@ sp needed
 2056 0056 5DF8047B 		ldr	r7, [sp], #4
 2057              		.cfi_restore 7
 2058              		.cfi_def_cfa_offset 0
 2059 005a 7047     		bx	lr
 2060              		.cfi_endproc
 2061              	.LFE19:
 2063              		.section	.text.I2C_EV_IRQHandling,"ax",%progbits
 2064              		.align	1
 2065              		.global	I2C_EV_IRQHandling
 2066              		.syntax unified
 2067              		.thumb
 2068              		.thumb_func
 2070              	I2C_EV_IRQHandling:
 2071              	.LFB20:
 548:drivers/Src/stm32f767xx_i2c_driver.c **** 
 549:drivers/Src/stm32f767xx_i2c_driver.c **** 
 550:drivers/Src/stm32f767xx_i2c_driver.c **** 
 551:drivers/Src/stm32f767xx_i2c_driver.c **** 
 552:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 553:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C Event IRQ Handling
 554:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 555:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2CHandle 
 556:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 557:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_EV_IRQHandling(I2C_Handle_t *pI2CHandle)
 558:drivers/Src/stm32f767xx_i2c_driver.c **** {
 2072              		.loc 1 558 1
 2073              		.cfi_startproc
 2074              		@ args = 0, pretend = 0, frame = 16
 2075              		@ frame_needed = 1, uses_anonymous_args = 0
 2076 0000 80B5     		push	{r7, lr}
 2077              		.cfi_def_cfa_offset 8
 2078              		.cfi_offset 7, -8
 2079              		.cfi_offset 14, -4
 2080 0002 84B0     		sub	sp, sp, #16
 2081              		.cfi_def_cfa_offset 24
 2082 0004 00AF     		add	r7, sp, #0
 2083              		.cfi_def_cfa_register 7
 2084 0006 7860     		str	r0, [r7, #4]
 559:drivers/Src/stm32f767xx_i2c_driver.c ****     uint32_t temp1, temp2;
 560:drivers/Src/stm32f767xx_i2c_driver.c **** 
 561:drivers/Src/stm32f767xx_i2c_driver.c ****     // Handle for interrupt generated by ADDR event
 562:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = pI2CHandle->pI2Cx->CR1 & (1 << I2C_CR1_ADDRIE);
 2085              		.loc 1 562 23
 2086 0008 7B68     		ldr	r3, [r7, #4]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 48


 2087 000a 1B68     		ldr	r3, [r3]
 2088              		.loc 1 562 30
 2089 000c 1B68     		ldr	r3, [r3]
 2090              		.loc 1 562 11
 2091 000e 03F00803 		and	r3, r3, #8
 2092 0012 FB60     		str	r3, [r7, #12]
 563:drivers/Src/stm32f767xx_i2c_driver.c ****     temp2 = pI2CHandle->pI2Cx->ISR & (1 << I2C_ISR_ADDR);
 2093              		.loc 1 563 23
 2094 0014 7B68     		ldr	r3, [r7, #4]
 2095 0016 1B68     		ldr	r3, [r3]
 2096              		.loc 1 563 30
 2097 0018 9B69     		ldr	r3, [r3, #24]
 2098              		.loc 1 563 11
 2099 001a 03F00803 		and	r3, r3, #8
 2100 001e BB60     		str	r3, [r7, #8]
 564:drivers/Src/stm32f767xx_i2c_driver.c ****     if (temp1 && temp2)
 2101              		.loc 1 564 8
 2102 0020 FB68     		ldr	r3, [r7, #12]
 2103 0022 002B     		cmp	r3, #0
 2104 0024 12D0     		beq	.L77
 2105              		.loc 1 564 15 discriminator 1
 2106 0026 BB68     		ldr	r3, [r7, #8]
 2107 0028 002B     		cmp	r3, #0
 2108 002a 0FD0     		beq	.L77
 565:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 566:drivers/Src/stm32f767xx_i2c_driver.c ****         // clear flag by setting the ADDRCF bit:
 567:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->ICR |= (1 << I2C_ICR_ADDRCF);
 2109              		.loc 1 567 19
 2110 002c 7B68     		ldr	r3, [r7, #4]
 2111 002e 1B68     		ldr	r3, [r3]
 2112              		.loc 1 567 32
 2113 0030 DA69     		ldr	r2, [r3, #28]
 2114              		.loc 1 567 19
 2115 0032 7B68     		ldr	r3, [r7, #4]
 2116 0034 1B68     		ldr	r3, [r3]
 2117              		.loc 1 567 32
 2118 0036 42F00802 		orr	r2, r2, #8
 2119 003a DA61     		str	r2, [r3, #28]
 568:drivers/Src/stm32f767xx_i2c_driver.c ****         /* Enable Address Acknowledge */
 569:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->CR2 &= ~(1 << I2C_CR2_NACK);
 2120              		.loc 1 569 19
 2121 003c 7B68     		ldr	r3, [r7, #4]
 2122 003e 1B68     		ldr	r3, [r3]
 2123              		.loc 1 569 32
 2124 0040 5A68     		ldr	r2, [r3, #4]
 2125              		.loc 1 569 19
 2126 0042 7B68     		ldr	r3, [r7, #4]
 2127 0044 1B68     		ldr	r3, [r3]
 2128              		.loc 1 569 32
 2129 0046 22F40042 		bic	r2, r2, #32768
 2130 004a 5A60     		str	r2, [r3, #4]
 2131              	.L77:
 570:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 571:drivers/Src/stm32f767xx_i2c_driver.c **** 
 572:drivers/Src/stm32f767xx_i2c_driver.c ****     // Handle for interrupt generated by received NACK event
 573:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = pI2CHandle->pI2Cx->CR1 & (1 << I2C_CR1_NACKIE);
 2132              		.loc 1 573 23
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 49


 2133 004c 7B68     		ldr	r3, [r7, #4]
 2134 004e 1B68     		ldr	r3, [r3]
 2135              		.loc 1 573 30
 2136 0050 1B68     		ldr	r3, [r3]
 2137              		.loc 1 573 11
 2138 0052 03F01003 		and	r3, r3, #16
 2139 0056 FB60     		str	r3, [r7, #12]
 574:drivers/Src/stm32f767xx_i2c_driver.c ****     temp2 = pI2CHandle->pI2Cx->ISR & (1 << I2C_ISR_NACKF);
 2140              		.loc 1 574 23
 2141 0058 7B68     		ldr	r3, [r7, #4]
 2142 005a 1B68     		ldr	r3, [r3]
 2143              		.loc 1 574 30
 2144 005c 9B69     		ldr	r3, [r3, #24]
 2145              		.loc 1 574 11
 2146 005e 03F01003 		and	r3, r3, #16
 2147 0062 BB60     		str	r3, [r7, #8]
 575:drivers/Src/stm32f767xx_i2c_driver.c ****     if (temp1 && temp2)
 2148              		.loc 1 575 8
 2149 0064 FB68     		ldr	r3, [r7, #12]
 2150 0066 002B     		cmp	r3, #0
 2151 0068 0ED0     		beq	.L78
 2152              		.loc 1 575 15 discriminator 1
 2153 006a BB68     		ldr	r3, [r7, #8]
 2154 006c 002B     		cmp	r3, #0
 2155 006e 0BD0     		beq	.L78
 576:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 577:drivers/Src/stm32f767xx_i2c_driver.c ****         // clear flag by setting the NACKCF bit:
 578:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->ICR |= (1 << I2C_ICR_NACKCF);
 2156              		.loc 1 578 19
 2157 0070 7B68     		ldr	r3, [r7, #4]
 2158 0072 1B68     		ldr	r3, [r3]
 2159              		.loc 1 578 32
 2160 0074 DA69     		ldr	r2, [r3, #28]
 2161              		.loc 1 578 19
 2162 0076 7B68     		ldr	r3, [r7, #4]
 2163 0078 1B68     		ldr	r3, [r3]
 2164              		.loc 1 578 32
 2165 007a 42F01002 		orr	r2, r2, #16
 2166 007e DA61     		str	r2, [r3, #28]
 579:drivers/Src/stm32f767xx_i2c_driver.c **** 
 580:drivers/Src/stm32f767xx_i2c_driver.c ****         I2C_ApplicationEventCallback(pI2CHandle,I2C_EV_NACK);
 2167              		.loc 1 580 9
 2168 0080 0321     		movs	r1, #3
 2169 0082 7868     		ldr	r0, [r7, #4]
 2170 0084 FFF7FEFF 		bl	I2C_ApplicationEventCallback
 2171              	.L78:
 581:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 582:drivers/Src/stm32f767xx_i2c_driver.c **** 
 583:drivers/Src/stm32f767xx_i2c_driver.c **** 
 584:drivers/Src/stm32f767xx_i2c_driver.c ****     // Handle for interrupt generated by TC event
 585:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = pI2CHandle->pI2Cx->CR1 & (1 << I2C_CR1_TCIE);
 2172              		.loc 1 585 23
 2173 0088 7B68     		ldr	r3, [r7, #4]
 2174 008a 1B68     		ldr	r3, [r3]
 2175              		.loc 1 585 30
 2176 008c 1B68     		ldr	r3, [r3]
 2177              		.loc 1 585 11
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 50


 2178 008e 03F04003 		and	r3, r3, #64
 2179 0092 FB60     		str	r3, [r7, #12]
 586:drivers/Src/stm32f767xx_i2c_driver.c ****     temp2 = pI2CHandle->pI2Cx->ISR & (1 << I2C_ISR_TC);
 2180              		.loc 1 586 23
 2181 0094 7B68     		ldr	r3, [r7, #4]
 2182 0096 1B68     		ldr	r3, [r3]
 2183              		.loc 1 586 30
 2184 0098 9B69     		ldr	r3, [r3, #24]
 2185              		.loc 1 586 11
 2186 009a 03F04003 		and	r3, r3, #64
 2187 009e BB60     		str	r3, [r7, #8]
 587:drivers/Src/stm32f767xx_i2c_driver.c ****     if (temp1 && temp2)
 2188              		.loc 1 587 8
 2189 00a0 FB68     		ldr	r3, [r7, #12]
 2190 00a2 002B     		cmp	r3, #0
 2191 00a4 13D0     		beq	.L79
 2192              		.loc 1 587 15 discriminator 1
 2193 00a6 BB68     		ldr	r3, [r7, #8]
 2194 00a8 002B     		cmp	r3, #0
 2195 00aa 10D0     		beq	.L79
 588:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 589:drivers/Src/stm32f767xx_i2c_driver.c ****             //1. generate the STOP condition
 590:drivers/Src/stm32f767xx_i2c_driver.c ****             if(pI2CHandle->Sr == I2C_DISABLE_SR)
 2196              		.loc 1 590 26
 2197 00ac 7B68     		ldr	r3, [r7, #4]
 2198 00ae 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 2199              		.loc 1 590 15
 2200 00b2 002B     		cmp	r3, #0
 2201 00b4 04D1     		bne	.L80
 591:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 592:drivers/Src/stm32f767xx_i2c_driver.c ****                 I2C_GenerateStopCondition(pI2CHandle->pI2Cx);
 2202              		.loc 1 592 17
 2203 00b6 7B68     		ldr	r3, [r7, #4]
 2204 00b8 1B68     		ldr	r3, [r3]
 2205 00ba 1846     		mov	r0, r3
 2206 00bc FFF7FEFF 		bl	I2C_GenerateStopCondition
 2207              	.L80:
 593:drivers/Src/stm32f767xx_i2c_driver.c ****             }
 594:drivers/Src/stm32f767xx_i2c_driver.c **** 
 595:drivers/Src/stm32f767xx_i2c_driver.c ****             // 2. reset all the member elements of the handle structure.
 596:drivers/Src/stm32f767xx_i2c_driver.c ****             I2C_CloseSendData(pI2CHandle);
 2208              		.loc 1 596 13
 2209 00c0 7868     		ldr	r0, [r7, #4]
 2210 00c2 FFF7FEFF 		bl	I2C_CloseSendData
 597:drivers/Src/stm32f767xx_i2c_driver.c **** 
 598:drivers/Src/stm32f767xx_i2c_driver.c ****             pI2CHandle->pI2Cx->CR2 = 0x0; // clear CR2 register
 2211              		.loc 1 598 23
 2212 00c6 7B68     		ldr	r3, [r7, #4]
 2213 00c8 1B68     		ldr	r3, [r3]
 2214              		.loc 1 598 36
 2215 00ca 0022     		movs	r2, #0
 2216 00cc 5A60     		str	r2, [r3, #4]
 2217              	.L79:
 599:drivers/Src/stm32f767xx_i2c_driver.c **** 
 600:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 601:drivers/Src/stm32f767xx_i2c_driver.c **** 
 602:drivers/Src/stm32f767xx_i2c_driver.c ****     // Handle for interrupt generated by STOPF event
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 51


 603:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = pI2CHandle->pI2Cx->CR1 & (1 << I2C_CR1_STOPIE);
 2218              		.loc 1 603 23
 2219 00ce 7B68     		ldr	r3, [r7, #4]
 2220 00d0 1B68     		ldr	r3, [r3]
 2221              		.loc 1 603 30
 2222 00d2 1B68     		ldr	r3, [r3]
 2223              		.loc 1 603 11
 2224 00d4 03F02003 		and	r3, r3, #32
 2225 00d8 FB60     		str	r3, [r7, #12]
 604:drivers/Src/stm32f767xx_i2c_driver.c ****     temp2 = pI2CHandle->pI2Cx->ISR & (1 << I2C_ISR_STOPF);
 2226              		.loc 1 604 23
 2227 00da 7B68     		ldr	r3, [r7, #4]
 2228 00dc 1B68     		ldr	r3, [r3]
 2229              		.loc 1 604 30
 2230 00de 9B69     		ldr	r3, [r3, #24]
 2231              		.loc 1 604 11
 2232 00e0 03F02003 		and	r3, r3, #32
 2233 00e4 BB60     		str	r3, [r7, #8]
 605:drivers/Src/stm32f767xx_i2c_driver.c ****     if (temp1 && temp2)
 2234              		.loc 1 605 8
 2235 00e6 FB68     		ldr	r3, [r7, #12]
 2236 00e8 002B     		cmp	r3, #0
 2237 00ea 0AD0     		beq	.L81
 2238              		.loc 1 605 15 discriminator 1
 2239 00ec BB68     		ldr	r3, [r7, #8]
 2240 00ee 002B     		cmp	r3, #0
 2241 00f0 07D0     		beq	.L81
 606:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 607:drivers/Src/stm32f767xx_i2c_driver.c ****         // STOPF flag is set
 608:drivers/Src/stm32f767xx_i2c_driver.c ****         // - set by hardware when a Stop condition is detected.
 609:drivers/Src/stm32f767xx_i2c_driver.c ****         // - cleared by software by setting the STOPCF bit:
 610:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->ICR |= (1 << I2C_ICR_STOPCF);
 2242              		.loc 1 610 19
 2243 00f2 7B68     		ldr	r3, [r7, #4]
 2244 00f4 1B68     		ldr	r3, [r3]
 2245              		.loc 1 610 32
 2246 00f6 DA69     		ldr	r2, [r3, #28]
 2247              		.loc 1 610 19
 2248 00f8 7B68     		ldr	r3, [r7, #4]
 2249 00fa 1B68     		ldr	r3, [r3]
 2250              		.loc 1 610 32
 2251 00fc 42F02002 		orr	r2, r2, #32
 2252 0100 DA61     		str	r2, [r3, #28]
 2253              	.L81:
 611:drivers/Src/stm32f767xx_i2c_driver.c **** 
 612:drivers/Src/stm32f767xx_i2c_driver.c ****         //Notify the application that STOP is detected
 613:drivers/Src/stm32f767xx_i2c_driver.c ****         //I2C_ApplicationEventCallback(pI2CHandle, I2C_EV_STOP);
 614:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 615:drivers/Src/stm32f767xx_i2c_driver.c **** 
 616:drivers/Src/stm32f767xx_i2c_driver.c ****     // Handle for interrupt generated by TXIS event
 617:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = pI2CHandle->pI2Cx->CR1 & (1 << I2C_CR1_TXIE);
 2254              		.loc 1 617 23
 2255 0102 7B68     		ldr	r3, [r7, #4]
 2256 0104 1B68     		ldr	r3, [r3]
 2257              		.loc 1 617 30
 2258 0106 1B68     		ldr	r3, [r3]
 2259              		.loc 1 617 11
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 52


 2260 0108 03F00203 		and	r3, r3, #2
 2261 010c FB60     		str	r3, [r7, #12]
 618:drivers/Src/stm32f767xx_i2c_driver.c ****     temp2 = pI2CHandle->pI2Cx->ISR & (1 << I2C_ISR_TXIS);
 2262              		.loc 1 618 23
 2263 010e 7B68     		ldr	r3, [r7, #4]
 2264 0110 1B68     		ldr	r3, [r3]
 2265              		.loc 1 618 30
 2266 0112 9B69     		ldr	r3, [r3, #24]
 2267              		.loc 1 618 11
 2268 0114 03F00203 		and	r3, r3, #2
 2269 0118 BB60     		str	r3, [r7, #8]
 619:drivers/Src/stm32f767xx_i2c_driver.c ****     if (temp1 && temp2)
 2270              		.loc 1 619 8
 2271 011a FB68     		ldr	r3, [r7, #12]
 2272 011c 002B     		cmp	r3, #0
 2273 011e 2AD0     		beq	.L82
 2274              		.loc 1 619 15 discriminator 1
 2275 0120 BB68     		ldr	r3, [r7, #8]
 2276 0122 002B     		cmp	r3, #0
 2277 0124 27D0     		beq	.L82
 620:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 621:drivers/Src/stm32f767xx_i2c_driver.c ****         // TXIS flag is set
 622:drivers/Src/stm32f767xx_i2c_driver.c **** 
 623:drivers/Src/stm32f767xx_i2c_driver.c ****         //check for device mode
 624:drivers/Src/stm32f767xx_i2c_driver.c ****         if (pI2CHandle->Mode == I2C_MODE_MASTER)
 2278              		.loc 1 624 23
 2279 0126 7B68     		ldr	r3, [r7, #4]
 2280 0128 9B7F     		ldrb	r3, [r3, #30]	@ zero_extendqisi2
 2281              		.loc 1 624 12
 2282 012a 012B     		cmp	r3, #1
 2283 012c 18D1     		bne	.L83
 625:drivers/Src/stm32f767xx_i2c_driver.c ****         {
 626:drivers/Src/stm32f767xx_i2c_driver.c ****             // master: We have to do the data transmission
 627:drivers/Src/stm32f767xx_i2c_driver.c ****             if(pI2CHandle->TxRxState == I2C_BUSY_IN_TX)
 2284              		.loc 1 627 26
 2285 012e 7B68     		ldr	r3, [r7, #4]
 2286 0130 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 2287              		.loc 1 627 15
 2288 0132 022B     		cmp	r3, #2
 2289 0134 1FD1     		bne	.L82
 628:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 629:drivers/Src/stm32f767xx_i2c_driver.c ****                 if (pI2CHandle->TxLen > 0)
 2290              		.loc 1 629 31
 2291 0136 7B68     		ldr	r3, [r7, #4]
 2292 0138 5B69     		ldr	r3, [r3, #20]
 2293              		.loc 1 629 20
 2294 013a 002B     		cmp	r3, #0
 2295 013c 1BD0     		beq	.L82
 630:drivers/Src/stm32f767xx_i2c_driver.c ****                 {
 631:drivers/Src/stm32f767xx_i2c_driver.c ****                     // 1. load the data in TXDR
 632:drivers/Src/stm32f767xx_i2c_driver.c ****                     pI2CHandle->pI2Cx->TXDR = *(pI2CHandle->pTxBuffer);
 2296              		.loc 1 632 59
 2297 013e 7B68     		ldr	r3, [r7, #4]
 2298 0140 DB68     		ldr	r3, [r3, #12]
 2299              		.loc 1 632 47
 2300 0142 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2301              		.loc 1 632 31
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 53


 2302 0144 7B68     		ldr	r3, [r7, #4]
 2303 0146 1B68     		ldr	r3, [r3]
 2304              		.loc 1 632 45
 2305 0148 9A62     		str	r2, [r3, #40]
 633:drivers/Src/stm32f767xx_i2c_driver.c ****                     // 2. decrement TxLen
 634:drivers/Src/stm32f767xx_i2c_driver.c ****                     pI2CHandle->TxLen--;
 2306              		.loc 1 634 31
 2307 014a 7B68     		ldr	r3, [r7, #4]
 2308 014c 5B69     		ldr	r3, [r3, #20]
 2309              		.loc 1 634 38
 2310 014e 5A1E     		subs	r2, r3, #1
 2311 0150 7B68     		ldr	r3, [r7, #4]
 2312 0152 5A61     		str	r2, [r3, #20]
 635:drivers/Src/stm32f767xx_i2c_driver.c ****                     // 3. increment buffer address
 636:drivers/Src/stm32f767xx_i2c_driver.c ****                     pI2CHandle->pTxBuffer++;
 2313              		.loc 1 636 31
 2314 0154 7B68     		ldr	r3, [r7, #4]
 2315 0156 DB68     		ldr	r3, [r3, #12]
 2316              		.loc 1 636 42
 2317 0158 5A1C     		adds	r2, r3, #1
 2318 015a 7B68     		ldr	r3, [r7, #4]
 2319 015c DA60     		str	r2, [r3, #12]
 2320 015e 0AE0     		b	.L82
 2321              	.L83:
 637:drivers/Src/stm32f767xx_i2c_driver.c ****                     
 638:drivers/Src/stm32f767xx_i2c_driver.c ****                 }
 639:drivers/Src/stm32f767xx_i2c_driver.c **** 
 640:drivers/Src/stm32f767xx_i2c_driver.c ****             }
 641:drivers/Src/stm32f767xx_i2c_driver.c ****         }else 
 642:drivers/Src/stm32f767xx_i2c_driver.c ****         {
 643:drivers/Src/stm32f767xx_i2c_driver.c ****             //slave
 644:drivers/Src/stm32f767xx_i2c_driver.c ****             // check that slave is in transmitter mode (DIR bit set in ISR register)
 645:drivers/Src/stm32f767xx_i2c_driver.c ****             if (pI2CHandle->pI2Cx->ISR & (1<<I2C_ISR_DIR))
 2322              		.loc 1 645 27
 2323 0160 7B68     		ldr	r3, [r7, #4]
 2324 0162 1B68     		ldr	r3, [r3]
 2325              		.loc 1 645 34
 2326 0164 9B69     		ldr	r3, [r3, #24]
 2327              		.loc 1 645 40
 2328 0166 03F48033 		and	r3, r3, #65536
 2329              		.loc 1 645 16
 2330 016a 002B     		cmp	r3, #0
 2331 016c 03D0     		beq	.L82
 646:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 647:drivers/Src/stm32f767xx_i2c_driver.c ****                 I2C_ApplicationEventCallback(pI2CHandle, I2C_EV_DATA_REQ);
 2332              		.loc 1 647 17
 2333 016e 0421     		movs	r1, #4
 2334 0170 7868     		ldr	r0, [r7, #4]
 2335 0172 FFF7FEFF 		bl	I2C_ApplicationEventCallback
 2336              	.L82:
 648:drivers/Src/stm32f767xx_i2c_driver.c ****             }
 649:drivers/Src/stm32f767xx_i2c_driver.c ****             
 650:drivers/Src/stm32f767xx_i2c_driver.c ****         }
 651:drivers/Src/stm32f767xx_i2c_driver.c ****         
 652:drivers/Src/stm32f767xx_i2c_driver.c ****         
 653:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 654:drivers/Src/stm32f767xx_i2c_driver.c **** 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 54


 655:drivers/Src/stm32f767xx_i2c_driver.c ****     // Handle for interrupt generated by RXNE event
 656:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = pI2CHandle->pI2Cx->CR1 & (1 << I2C_CR1_RXIE);
 2337              		.loc 1 656 23
 2338 0176 7B68     		ldr	r3, [r7, #4]
 2339 0178 1B68     		ldr	r3, [r3]
 2340              		.loc 1 656 30
 2341 017a 1B68     		ldr	r3, [r3]
 2342              		.loc 1 656 11
 2343 017c 03F00403 		and	r3, r3, #4
 2344 0180 FB60     		str	r3, [r7, #12]
 657:drivers/Src/stm32f767xx_i2c_driver.c ****     temp2 = pI2CHandle->pI2Cx->ISR & (1 << I2C_ISR_RXNE);
 2345              		.loc 1 657 23
 2346 0182 7B68     		ldr	r3, [r7, #4]
 2347 0184 1B68     		ldr	r3, [r3]
 2348              		.loc 1 657 30
 2349 0186 9B69     		ldr	r3, [r3, #24]
 2350              		.loc 1 657 11
 2351 0188 03F00403 		and	r3, r3, #4
 2352 018c BB60     		str	r3, [r7, #8]
 658:drivers/Src/stm32f767xx_i2c_driver.c ****     if (temp1 && temp2)
 2353              		.loc 1 658 8
 2354 018e FB68     		ldr	r3, [r7, #12]
 2355 0190 002B     		cmp	r3, #0
 2356 0192 44D0     		beq	.L88
 2357              		.loc 1 658 15 discriminator 1
 2358 0194 BB68     		ldr	r3, [r7, #8]
 2359 0196 002B     		cmp	r3, #0
 2360 0198 41D0     		beq	.L88
 659:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 660:drivers/Src/stm32f767xx_i2c_driver.c ****         // RXNE flag is set
 661:drivers/Src/stm32f767xx_i2c_driver.c **** 
 662:drivers/Src/stm32f767xx_i2c_driver.c ****         //check for device mode
 663:drivers/Src/stm32f767xx_i2c_driver.c ****         if (pI2CHandle->Mode == I2C_MODE_MASTER) 
 2361              		.loc 1 663 23
 2362 019a 7B68     		ldr	r3, [r7, #4]
 2363 019c 9B7F     		ldrb	r3, [r3, #30]	@ zero_extendqisi2
 2364              		.loc 1 663 12
 2365 019e 012B     		cmp	r3, #1
 2366 01a0 32D1     		bne	.L85
 664:drivers/Src/stm32f767xx_i2c_driver.c ****         {
 665:drivers/Src/stm32f767xx_i2c_driver.c ****             // master mode
 666:drivers/Src/stm32f767xx_i2c_driver.c ****             if(pI2CHandle->TxRxState == I2C_BUSY_IN_RX)
 2367              		.loc 1 666 26
 2368 01a2 7B68     		ldr	r3, [r7, #4]
 2369 01a4 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 2370              		.loc 1 666 15
 2371 01a6 012B     		cmp	r3, #1
 2372 01a8 39D1     		bne	.L88
 667:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 668:drivers/Src/stm32f767xx_i2c_driver.c ****                 if (pI2CHandle->RxLen > 0)
 2373              		.loc 1 668 31
 2374 01aa 7B68     		ldr	r3, [r7, #4]
 2375 01ac 9B69     		ldr	r3, [r3, #24]
 2376              		.loc 1 668 20
 2377 01ae 002B     		cmp	r3, #0
 2378 01b0 10D0     		beq	.L86
 669:drivers/Src/stm32f767xx_i2c_driver.c ****                 {
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 55


 670:drivers/Src/stm32f767xx_i2c_driver.c ****                     // 1. read RXDR data into buffer
 671:drivers/Src/stm32f767xx_i2c_driver.c ****                     *pI2CHandle->pRxBuffer = pI2CHandle->pI2Cx->RXDR;
 2379              		.loc 1 671 56
 2380 01b2 7B68     		ldr	r3, [r7, #4]
 2381 01b4 1B68     		ldr	r3, [r3]
 2382              		.loc 1 671 63
 2383 01b6 5A6A     		ldr	r2, [r3, #36]
 2384              		.loc 1 671 32
 2385 01b8 7B68     		ldr	r3, [r7, #4]
 2386 01ba 1B69     		ldr	r3, [r3, #16]
 2387              		.loc 1 671 44
 2388 01bc D2B2     		uxtb	r2, r2
 2389 01be 1A70     		strb	r2, [r3]
 672:drivers/Src/stm32f767xx_i2c_driver.c ****                     // 2. decrement RxLen
 673:drivers/Src/stm32f767xx_i2c_driver.c ****                     pI2CHandle->RxLen--;
 2390              		.loc 1 673 31
 2391 01c0 7B68     		ldr	r3, [r7, #4]
 2392 01c2 9B69     		ldr	r3, [r3, #24]
 2393              		.loc 1 673 38
 2394 01c4 5A1E     		subs	r2, r3, #1
 2395 01c6 7B68     		ldr	r3, [r7, #4]
 2396 01c8 9A61     		str	r2, [r3, #24]
 674:drivers/Src/stm32f767xx_i2c_driver.c ****                     // 3. increment buffer address
 675:drivers/Src/stm32f767xx_i2c_driver.c ****                     pI2CHandle->pRxBuffer++;
 2397              		.loc 1 675 31
 2398 01ca 7B68     		ldr	r3, [r7, #4]
 2399 01cc 1B69     		ldr	r3, [r3, #16]
 2400              		.loc 1 675 42
 2401 01ce 5A1C     		adds	r2, r3, #1
 2402 01d0 7B68     		ldr	r3, [r7, #4]
 2403 01d2 1A61     		str	r2, [r3, #16]
 2404              	.L86:
 676:drivers/Src/stm32f767xx_i2c_driver.c ****                     
 677:drivers/Src/stm32f767xx_i2c_driver.c ****                 }
 678:drivers/Src/stm32f767xx_i2c_driver.c **** 
 679:drivers/Src/stm32f767xx_i2c_driver.c **** 
 680:drivers/Src/stm32f767xx_i2c_driver.c ****                 if(pI2CHandle->RxLen == 0)
 2405              		.loc 1 680 30
 2406 01d4 7B68     		ldr	r3, [r7, #4]
 2407 01d6 9B69     		ldr	r3, [r3, #24]
 2408              		.loc 1 680 19
 2409 01d8 002B     		cmp	r3, #0
 2410 01da 20D1     		bne	.L88
 681:drivers/Src/stm32f767xx_i2c_driver.c ****                 {
 682:drivers/Src/stm32f767xx_i2c_driver.c ****                     //1. generate the stop condition
 683:drivers/Src/stm32f767xx_i2c_driver.c ****                     if(pI2CHandle->Sr == I2C_DISABLE_SR){
 2411              		.loc 1 683 34
 2412 01dc 7B68     		ldr	r3, [r7, #4]
 2413 01de 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 2414              		.loc 1 683 23
 2415 01e2 002B     		cmp	r3, #0
 2416 01e4 04D1     		bne	.L87
 684:drivers/Src/stm32f767xx_i2c_driver.c ****                         I2C_GenerateStopCondition(pI2CHandle->pI2Cx);
 2417              		.loc 1 684 25
 2418 01e6 7B68     		ldr	r3, [r7, #4]
 2419 01e8 1B68     		ldr	r3, [r3]
 2420 01ea 1846     		mov	r0, r3
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 56


 2421 01ec FFF7FEFF 		bl	I2C_GenerateStopCondition
 2422              	.L87:
 685:drivers/Src/stm32f767xx_i2c_driver.c ****                     }
 686:drivers/Src/stm32f767xx_i2c_driver.c ****                         
 687:drivers/Src/stm32f767xx_i2c_driver.c ****                     //2 . Close the I2C rx    
 688:drivers/Src/stm32f767xx_i2c_driver.c ****                     I2C_CloseReceiveData(pI2CHandle);
 2423              		.loc 1 688 21
 2424 01f0 7868     		ldr	r0, [r7, #4]
 2425 01f2 FFF7FEFF 		bl	I2C_CloseReceiveData
 689:drivers/Src/stm32f767xx_i2c_driver.c **** 
 690:drivers/Src/stm32f767xx_i2c_driver.c ****                     
 691:drivers/Src/stm32f767xx_i2c_driver.c ****                     //3. Notify the application
 692:drivers/Src/stm32f767xx_i2c_driver.c ****                     I2C_ApplicationEventCallback(pI2CHandle,I2C_EV_RX_CMPLT);
 2426              		.loc 1 692 21
 2427 01f6 0121     		movs	r1, #1
 2428 01f8 7868     		ldr	r0, [r7, #4]
 2429 01fa FFF7FEFF 		bl	I2C_ApplicationEventCallback
 693:drivers/Src/stm32f767xx_i2c_driver.c **** 
 694:drivers/Src/stm32f767xx_i2c_driver.c ****                     pI2CHandle->pI2Cx->CR2 = 0x0; // clear CR2 register
 2430              		.loc 1 694 31
 2431 01fe 7B68     		ldr	r3, [r7, #4]
 2432 0200 1B68     		ldr	r3, [r3]
 2433              		.loc 1 694 44
 2434 0202 0022     		movs	r2, #0
 2435 0204 5A60     		str	r2, [r3, #4]
 695:drivers/Src/stm32f767xx_i2c_driver.c **** 
 696:drivers/Src/stm32f767xx_i2c_driver.c ****                 
 697:drivers/Src/stm32f767xx_i2c_driver.c ****                 }   
 698:drivers/Src/stm32f767xx_i2c_driver.c **** 
 699:drivers/Src/stm32f767xx_i2c_driver.c ****             }
 700:drivers/Src/stm32f767xx_i2c_driver.c ****         }else
 701:drivers/Src/stm32f767xx_i2c_driver.c ****         {
 702:drivers/Src/stm32f767xx_i2c_driver.c ****             // slave mode
 703:drivers/Src/stm32f767xx_i2c_driver.c ****             // check that slave is in receiver mode (DIR bit reset in ISR register)
 704:drivers/Src/stm32f767xx_i2c_driver.c ****             if (!(pI2CHandle->pI2Cx->ISR & (1<<I2C_ISR_DIR)))
 705:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 706:drivers/Src/stm32f767xx_i2c_driver.c **** 
 707:drivers/Src/stm32f767xx_i2c_driver.c ****                 I2C_ApplicationEventCallback(pI2CHandle, I2C_EV_DATA_RCV);
 708:drivers/Src/stm32f767xx_i2c_driver.c ****                 
 709:drivers/Src/stm32f767xx_i2c_driver.c **** 
 710:drivers/Src/stm32f767xx_i2c_driver.c ****             }
 711:drivers/Src/stm32f767xx_i2c_driver.c ****         }
 712:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 713:drivers/Src/stm32f767xx_i2c_driver.c **** 
 714:drivers/Src/stm32f767xx_i2c_driver.c **** }
 2436              		.loc 1 714 1
 2437 0206 0AE0     		b	.L88
 2438              	.L85:
 704:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 2439              		.loc 1 704 29
 2440 0208 7B68     		ldr	r3, [r7, #4]
 2441 020a 1B68     		ldr	r3, [r3]
 704:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 2442              		.loc 1 704 36
 2443 020c 9B69     		ldr	r3, [r3, #24]
 704:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 2444              		.loc 1 704 42
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 57


 2445 020e 03F48033 		and	r3, r3, #65536
 704:drivers/Src/stm32f767xx_i2c_driver.c ****             {
 2446              		.loc 1 704 16
 2447 0212 002B     		cmp	r3, #0
 2448 0214 03D1     		bne	.L88
 707:drivers/Src/stm32f767xx_i2c_driver.c ****                 
 2449              		.loc 1 707 17
 2450 0216 0521     		movs	r1, #5
 2451 0218 7868     		ldr	r0, [r7, #4]
 2452 021a FFF7FEFF 		bl	I2C_ApplicationEventCallback
 2453              	.L88:
 2454              		.loc 1 714 1
 2455 021e 00BF     		nop
 2456 0220 1037     		adds	r7, r7, #16
 2457              		.cfi_def_cfa_offset 8
 2458 0222 BD46     		mov	sp, r7
 2459              		.cfi_def_cfa_register 13
 2460              		@ sp needed
 2461 0224 80BD     		pop	{r7, pc}
 2462              		.cfi_endproc
 2463              	.LFE20:
 2465              		.section	.text.I2C_ER_IRQHandling,"ax",%progbits
 2466              		.align	1
 2467              		.global	I2C_ER_IRQHandling
 2468              		.syntax unified
 2469              		.thumb
 2470              		.thumb_func
 2472              	I2C_ER_IRQHandling:
 2473              	.LFB21:
 715:drivers/Src/stm32f767xx_i2c_driver.c **** 
 716:drivers/Src/stm32f767xx_i2c_driver.c **** 
 717:drivers/Src/stm32f767xx_i2c_driver.c **** 
 718:drivers/Src/stm32f767xx_i2c_driver.c **** 
 719:drivers/Src/stm32f767xx_i2c_driver.c **** 
 720:drivers/Src/stm32f767xx_i2c_driver.c **** /**
 721:drivers/Src/stm32f767xx_i2c_driver.c ****  * @brief I2C Error IRQ Handling
 722:drivers/Src/stm32f767xx_i2c_driver.c ****  * 
 723:drivers/Src/stm32f767xx_i2c_driver.c ****  * @param pI2CHandle 
 724:drivers/Src/stm32f767xx_i2c_driver.c ****  */
 725:drivers/Src/stm32f767xx_i2c_driver.c **** void I2C_ER_IRQHandling(I2C_Handle_t *pI2CHandle)
 726:drivers/Src/stm32f767xx_i2c_driver.c **** {
 2474              		.loc 1 726 1
 2475              		.cfi_startproc
 2476              		@ args = 0, pretend = 0, frame = 16
 2477              		@ frame_needed = 1, uses_anonymous_args = 0
 2478 0000 80B5     		push	{r7, lr}
 2479              		.cfi_def_cfa_offset 8
 2480              		.cfi_offset 7, -8
 2481              		.cfi_offset 14, -4
 2482 0002 84B0     		sub	sp, sp, #16
 2483              		.cfi_def_cfa_offset 24
 2484 0004 00AF     		add	r7, sp, #0
 2485              		.cfi_def_cfa_register 7
 2486 0006 7860     		str	r0, [r7, #4]
 727:drivers/Src/stm32f767xx_i2c_driver.c ****     uint32_t temp1,temp2;
 728:drivers/Src/stm32f767xx_i2c_driver.c **** 
 729:drivers/Src/stm32f767xx_i2c_driver.c ****     //Know the status of ERRIE control bit in CR1
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 58


 730:drivers/Src/stm32f767xx_i2c_driver.c ****     temp2 = (pI2CHandle->pI2Cx->CR1) & ( 1 << I2C_CR1_ERRIE);
 2487              		.loc 1 730 24
 2488 0008 7B68     		ldr	r3, [r7, #4]
 2489 000a 1B68     		ldr	r3, [r3]
 2490              		.loc 1 730 31
 2491 000c 1B68     		ldr	r3, [r3]
 2492              		.loc 1 730 11
 2493 000e 03F08003 		and	r3, r3, #128
 2494 0012 FB60     		str	r3, [r7, #12]
 731:drivers/Src/stm32f767xx_i2c_driver.c **** 
 732:drivers/Src/stm32f767xx_i2c_driver.c **** 
 733:drivers/Src/stm32f767xx_i2c_driver.c ****     /***********************Check for Bus error************************************/ 
 734:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = (pI2CHandle->pI2Cx->ISR) & ( 1<< I2C_ISR_BERR);
 2495              		.loc 1 734 24
 2496 0014 7B68     		ldr	r3, [r7, #4]
 2497 0016 1B68     		ldr	r3, [r3]
 2498              		.loc 1 734 31
 2499 0018 9B69     		ldr	r3, [r3, #24]
 2500              		.loc 1 734 11
 2501 001a 03F48073 		and	r3, r3, #256
 2502 001e BB60     		str	r3, [r7, #8]
 735:drivers/Src/stm32f767xx_i2c_driver.c ****     if(temp1  && temp2 )
 2503              		.loc 1 735 7
 2504 0020 BB68     		ldr	r3, [r7, #8]
 2505 0022 002B     		cmp	r3, #0
 2506 0024 0ED0     		beq	.L90
 2507              		.loc 1 735 15 discriminator 1
 2508 0026 FB68     		ldr	r3, [r7, #12]
 2509 0028 002B     		cmp	r3, #0
 2510 002a 0BD0     		beq	.L90
 736:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 737:drivers/Src/stm32f767xx_i2c_driver.c ****         //This is Bus error
 738:drivers/Src/stm32f767xx_i2c_driver.c ****         
 739:drivers/Src/stm32f767xx_i2c_driver.c ****         //clear the bus error flag 
 740:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->ICR |= ( 1 << I2C_ICR_BERRCF);
 2511              		.loc 1 740 19
 2512 002c 7B68     		ldr	r3, [r7, #4]
 2513 002e 1B68     		ldr	r3, [r3]
 2514              		.loc 1 740 32
 2515 0030 DA69     		ldr	r2, [r3, #28]
 2516              		.loc 1 740 19
 2517 0032 7B68     		ldr	r3, [r7, #4]
 2518 0034 1B68     		ldr	r3, [r3]
 2519              		.loc 1 740 32
 2520 0036 42F48072 		orr	r2, r2, #256
 2521 003a DA61     		str	r2, [r3, #28]
 741:drivers/Src/stm32f767xx_i2c_driver.c ****         
 742:drivers/Src/stm32f767xx_i2c_driver.c ****         //notify the application about the error 
 743:drivers/Src/stm32f767xx_i2c_driver.c ****         I2C_ApplicationEventCallback(pI2CHandle,I2C_ERROR_BERR);
 2522              		.loc 1 743 9
 2523 003c 0021     		movs	r1, #0
 2524 003e 7868     		ldr	r0, [r7, #4]
 2525 0040 FFF7FEFF 		bl	I2C_ApplicationEventCallback
 2526              	.L90:
 744:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 745:drivers/Src/stm32f767xx_i2c_driver.c **** 
 746:drivers/Src/stm32f767xx_i2c_driver.c ****     /***********************Check for arbitration lost error************************************/ 
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 59


 747:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = (pI2CHandle->pI2Cx->ISR) & ( 1<< I2C_ISR_ARLO);
 2527              		.loc 1 747 24
 2528 0044 7B68     		ldr	r3, [r7, #4]
 2529 0046 1B68     		ldr	r3, [r3]
 2530              		.loc 1 747 31
 2531 0048 9B69     		ldr	r3, [r3, #24]
 2532              		.loc 1 747 11
 2533 004a 03F40073 		and	r3, r3, #512
 2534 004e BB60     		str	r3, [r7, #8]
 748:drivers/Src/stm32f767xx_i2c_driver.c ****     if(temp1  && temp2)
 2535              		.loc 1 748 7
 2536 0050 BB68     		ldr	r3, [r7, #8]
 2537 0052 002B     		cmp	r3, #0
 2538 0054 0ED0     		beq	.L91
 2539              		.loc 1 748 15 discriminator 1
 2540 0056 FB68     		ldr	r3, [r7, #12]
 2541 0058 002B     		cmp	r3, #0
 2542 005a 0BD0     		beq	.L91
 749:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 750:drivers/Src/stm32f767xx_i2c_driver.c ****         //This is arbitration lost error
 751:drivers/Src/stm32f767xx_i2c_driver.c ****         
 752:drivers/Src/stm32f767xx_i2c_driver.c ****         //clear the arbitration lost error flag
 753:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->ICR |= ( 1 << I2C_ICR_ARLOCF);
 2543              		.loc 1 753 19
 2544 005c 7B68     		ldr	r3, [r7, #4]
 2545 005e 1B68     		ldr	r3, [r3]
 2546              		.loc 1 753 32
 2547 0060 DA69     		ldr	r2, [r3, #28]
 2548              		.loc 1 753 19
 2549 0062 7B68     		ldr	r3, [r7, #4]
 2550 0064 1B68     		ldr	r3, [r3]
 2551              		.loc 1 753 32
 2552 0066 42F40072 		orr	r2, r2, #512
 2553 006a DA61     		str	r2, [r3, #28]
 754:drivers/Src/stm32f767xx_i2c_driver.c **** 
 755:drivers/Src/stm32f767xx_i2c_driver.c ****         //notify the application about the error
 756:drivers/Src/stm32f767xx_i2c_driver.c ****         I2C_ApplicationEventCallback(pI2CHandle,I2C_ERROR_ARLO);     
 2554              		.loc 1 756 9
 2555 006c 0121     		movs	r1, #1
 2556 006e 7868     		ldr	r0, [r7, #4]
 2557 0070 FFF7FEFF 		bl	I2C_ApplicationEventCallback
 2558              	.L91:
 757:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 758:drivers/Src/stm32f767xx_i2c_driver.c **** 
 759:drivers/Src/stm32f767xx_i2c_driver.c ****     /***********************Check for Overrun/underrun error************************************/
 760:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = (pI2CHandle->pI2Cx->ISR) & ( 1<< I2C_ISR_OVR);
 2559              		.loc 1 760 24
 2560 0074 7B68     		ldr	r3, [r7, #4]
 2561 0076 1B68     		ldr	r3, [r3]
 2562              		.loc 1 760 31
 2563 0078 9B69     		ldr	r3, [r3, #24]
 2564              		.loc 1 760 11
 2565 007a 03F48063 		and	r3, r3, #1024
 2566 007e BB60     		str	r3, [r7, #8]
 761:drivers/Src/stm32f767xx_i2c_driver.c ****     if(temp1  && temp2)
 2567              		.loc 1 761 7
 2568 0080 BB68     		ldr	r3, [r7, #8]
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 60


 2569 0082 002B     		cmp	r3, #0
 2570 0084 0ED0     		beq	.L92
 2571              		.loc 1 761 15 discriminator 1
 2572 0086 FB68     		ldr	r3, [r7, #12]
 2573 0088 002B     		cmp	r3, #0
 2574 008a 0BD0     		beq	.L92
 762:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 763:drivers/Src/stm32f767xx_i2c_driver.c ****         //This is Overrun/underrun error
 764:drivers/Src/stm32f767xx_i2c_driver.c ****         
 765:drivers/Src/stm32f767xx_i2c_driver.c ****         //clear the Overrun/underrun error flag
 766:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->ICR |= ( 1 << I2C_ICR_OVRCF);
 2575              		.loc 1 766 19
 2576 008c 7B68     		ldr	r3, [r7, #4]
 2577 008e 1B68     		ldr	r3, [r3]
 2578              		.loc 1 766 32
 2579 0090 DA69     		ldr	r2, [r3, #28]
 2580              		.loc 1 766 19
 2581 0092 7B68     		ldr	r3, [r7, #4]
 2582 0094 1B68     		ldr	r3, [r3]
 2583              		.loc 1 766 32
 2584 0096 42F48062 		orr	r2, r2, #1024
 2585 009a DA61     		str	r2, [r3, #28]
 767:drivers/Src/stm32f767xx_i2c_driver.c **** 
 768:drivers/Src/stm32f767xx_i2c_driver.c ****         //notify the application about the error
 769:drivers/Src/stm32f767xx_i2c_driver.c ****         I2C_ApplicationEventCallback(pI2CHandle,I2C_ERROR_OVR);     
 2586              		.loc 1 769 9
 2587 009c 0221     		movs	r1, #2
 2588 009e 7868     		ldr	r0, [r7, #4]
 2589 00a0 FFF7FEFF 		bl	I2C_ApplicationEventCallback
 2590              	.L92:
 770:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 771:drivers/Src/stm32f767xx_i2c_driver.c **** 
 772:drivers/Src/stm32f767xx_i2c_driver.c ****     /***********************Check for Time out error************************************/
 773:drivers/Src/stm32f767xx_i2c_driver.c ****     temp1 = (pI2CHandle->pI2Cx->ISR) & ( 1<< I2C_ISR_TIMEOUT);
 2591              		.loc 1 773 24
 2592 00a4 7B68     		ldr	r3, [r7, #4]
 2593 00a6 1B68     		ldr	r3, [r3]
 2594              		.loc 1 773 31
 2595 00a8 9B69     		ldr	r3, [r3, #24]
 2596              		.loc 1 773 11
 2597 00aa 03F48053 		and	r3, r3, #4096
 2598 00ae BB60     		str	r3, [r7, #8]
 774:drivers/Src/stm32f767xx_i2c_driver.c ****     if(temp1  && temp2)
 2599              		.loc 1 774 7
 2600 00b0 BB68     		ldr	r3, [r7, #8]
 2601 00b2 002B     		cmp	r3, #0
 2602 00b4 0ED0     		beq	.L94
 2603              		.loc 1 774 15 discriminator 1
 2604 00b6 FB68     		ldr	r3, [r7, #12]
 2605 00b8 002B     		cmp	r3, #0
 2606 00ba 0BD0     		beq	.L94
 775:drivers/Src/stm32f767xx_i2c_driver.c ****     {
 776:drivers/Src/stm32f767xx_i2c_driver.c ****         //This is Time out error
 777:drivers/Src/stm32f767xx_i2c_driver.c ****         
 778:drivers/Src/stm32f767xx_i2c_driver.c ****         //clear the Time out error flag
 779:drivers/Src/stm32f767xx_i2c_driver.c ****         pI2CHandle->pI2Cx->ICR |= ( 1 << I2C_ICR_TIMEOUTCF);
 2607              		.loc 1 779 19
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 61


 2608 00bc 7B68     		ldr	r3, [r7, #4]
 2609 00be 1B68     		ldr	r3, [r3]
 2610              		.loc 1 779 32
 2611 00c0 DA69     		ldr	r2, [r3, #28]
 2612              		.loc 1 779 19
 2613 00c2 7B68     		ldr	r3, [r7, #4]
 2614 00c4 1B68     		ldr	r3, [r3]
 2615              		.loc 1 779 32
 2616 00c6 42F48052 		orr	r2, r2, #4096
 2617 00ca DA61     		str	r2, [r3, #28]
 780:drivers/Src/stm32f767xx_i2c_driver.c **** 
 781:drivers/Src/stm32f767xx_i2c_driver.c ****         //notify the application about the error 
 782:drivers/Src/stm32f767xx_i2c_driver.c ****         I2C_ApplicationEventCallback(pI2CHandle,I2C_ERROR_TIMEOUT); 
 2618              		.loc 1 782 9
 2619 00cc 0321     		movs	r1, #3
 2620 00ce 7868     		ldr	r0, [r7, #4]
 2621 00d0 FFF7FEFF 		bl	I2C_ApplicationEventCallback
 2622              	.L94:
 783:drivers/Src/stm32f767xx_i2c_driver.c ****     }
 784:drivers/Src/stm32f767xx_i2c_driver.c **** }...
 2623              		.loc 1 784 1
 2624 00d4 00BF     		nop
 2625 00d6 1037     		adds	r7, r7, #16
 2626              		.cfi_def_cfa_offset 8
 2627 00d8 BD46     		mov	sp, r7
 2628              		.cfi_def_cfa_register 13
 2629              		@ sp needed
 2630 00da 80BD     		pop	{r7, pc}
 2631              		.cfi_endproc
 2632              	.LFE21:
 2634              		.text
 2635              	.Letext0:
 2636              		.file 2 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 2637              		.file 3 "/Users/johannes/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/
 2638              		.file 4 "drivers/Inc/stm32f767xx.h"
 2639              		.file 5 "drivers/Inc/stm32f767xx_i2c_driver.h"
 2640              		.file 6 "drivers/Inc/stm32f767xx_rcc_driver.h"
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 62


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f767xx_i2c_driver.c
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:23     .data.i2c_timings_4:0000000000000000 i2c_timings_4
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:20     .data.i2c_timings_4:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:33     .data.i2c_timings_8:0000000000000000 i2c_timings_8
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:30     .data.i2c_timings_8:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:43     .data.i2c_timings_16:0000000000000000 i2c_timings_16
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:40     .data.i2c_timings_16:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:53     .data.i2c_timings_48:0000000000000000 i2c_timings_48
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:50     .data.i2c_timings_48:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:63     .data.i2c_timings_54:0000000000000000 i2c_timings_54
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:60     .data.i2c_timings_54:0000000000000000 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:69     .text.I2C_GenerateStartCondition:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:74     .text.I2C_GenerateStartCondition:0000000000000000 I2C_GenerateStartCondition
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:111    .text.I2C_ExecuteAddressPhaseWrite:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:116    .text.I2C_ExecuteAddressPhaseWrite:0000000000000000 I2C_ExecuteAddressPhaseWrite
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:164    .text.I2C_ExecuteAddressPhaseRead:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:169    .text.I2C_ExecuteAddressPhaseRead:0000000000000000 I2C_ExecuteAddressPhaseRead
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:217    .text.I2C_GenerateStopCondition:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:222    .text.I2C_GenerateStopCondition:0000000000000000 I2C_GenerateStopCondition
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:258    .text.I2C_SlaveEnableDisableCallbackEvents:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:264    .text.I2C_SlaveEnableDisableCallbackEvents:0000000000000000 I2C_SlaveEnableDisableCallbackEvents
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:364    .text.I2C_PeripheralControl:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:370    .text.I2C_PeripheralControl:0000000000000000 I2C_PeripheralControl
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:422    .text.I2C_PeriClockControl:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:428    .text.I2C_PeriClockControl:0000000000000000 I2C_PeriClockControl
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:573    .text.I2C_PeriClockControl:00000000000000cc $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:582    .text.I2C_Init:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:588    .text.I2C_Init:0000000000000000 I2C_Init
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:751    .text.I2C_Init:00000000000000d4 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:763    .text.I2C_DeInit:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:769    .text.I2C_DeInit:0000000000000000 I2C_DeInit
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:799    .text.I2C_GetFlagStatus:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:805    .text.I2C_GetFlagStatus:0000000000000000 I2C_GetFlagStatus
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:852    .text.I2C_MasterSendData:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:858    .text.I2C_MasterSendData:0000000000000000 I2C_MasterSendData
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1002   .text.I2C_MasterReceiveData:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1008   .text.I2C_MasterReceiveData:0000000000000000 I2C_MasterReceiveData
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1158   .text.I2C_IRQInterruptConfig:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1164   .text.I2C_IRQInterruptConfig:0000000000000000 I2C_IRQInterruptConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1403   .text.I2C_IRQInterruptConfig:0000000000000160 $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1416   .text.I2C_IRQPriorityConfig:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1422   .text.I2C_IRQPriorityConfig:0000000000000000 I2C_IRQPriorityConfig
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1485   .text.I2C_IRQPriorityConfig:000000000000004c $d
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1490   .text.I2C_SlaveSendData:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1496   .text.I2C_SlaveSendData:0000000000000000 I2C_SlaveSendData
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1532   .text.I2C_SlaveReceiveData:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1538   .text.I2C_SlaveReceiveData:0000000000000000 I2C_SlaveReceiveData
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1573   .text.I2C_MasterSendDataIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1579   .text.I2C_MasterSendDataIT:0000000000000000 I2C_MasterSendDataIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1732   .text.I2C_MasterReceiveDataIT:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1738   .text.I2C_MasterReceiveDataIT:0000000000000000 I2C_MasterReceiveDataIT
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1898   .text.I2C_CloseSendData:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1904   .text.I2C_CloseSendData:0000000000000000 I2C_CloseSendData
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1979   .text.I2C_CloseReceiveData:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:1985   .text.I2C_CloseReceiveData:0000000000000000 I2C_CloseReceiveData
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:2064   .text.I2C_EV_IRQHandling:0000000000000000 $t
ARM GAS  /var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s 			page 63


/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:2070   .text.I2C_EV_IRQHandling:0000000000000000 I2C_EV_IRQHandling
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:2466   .text.I2C_ER_IRQHandling:0000000000000000 $t
/var/folders/0z/tsy30v1j4xl4_7kw94k978ww0000gn/T//ccnYQwk8.s:2472   .text.I2C_ER_IRQHandling:0000000000000000 I2C_ER_IRQHandling

UNDEFINED SYMBOLS
RCC_GetPCLK1Value
I2C_ApplicationEventCallback
